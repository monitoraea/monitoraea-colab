fields:

- key: logo_arquivo
  type: thumbnail
  title: Logotipo
  db_field: logo_arquivo
  size: 2

- key: uf_nome
  type: read_only
  title: Estado
  size: 3

- key: regiao
  type: read_only
  title: Região
  size: 3

- key: data_criacao
  type: yearpicker
  title: Data da criação
  size: 3

- key: ativo
  type: options
  title: Ativo
  size: 3
  options:
    - value: 1
      label: 'Sim'
    - value: 2
      label: 'Em reestruturação'
    - value: 3
      label: 'Não'

- key: link
  type: text
  title: Link para o site
  size: 12

- key: documento_criacao
  type: text
  title: Título do documento de criação
  size: 4

- key: documento_criacao_tipo
  type: options
  title: Tipo de documento de criação
  size: 2
  onchange: # pode indicar um script (TODO)
    - key: documento_criacao_arquivo # pode indicar um script (TODO)
      value:
    - key: documento_criacao_arquivo2
      value:
  list: 
    module: property
    key: tipo_arquivo

- key: documento_criacao_arquivo
  type: text
  title: Link para o documento de criação
  size: 6
  show:
    target:
      key: documento_criacao_tipo
      value: link

- key: documento_criacao_arquivo2
  type: file
  accept: application/pdf
  title: Arquivo de criação
  db_field: documento_criacao_arquivo
  size: 6
  show:
    target:
      key: documento_criacao_tipo
      value: file

- key: composicao_cadeiras_set_pub
  type: integer
  title: Núm. cadeiras - setor público
  size: 3

- key: composicao_cadeiras_soc_civ
  type: integer
  title: Núm. cadeiras - sociedade civil
  size: 3

- key: setor
  type: text
  title: Setor %index%
  size: 6

- key: cadeiras
  type: integer
  title: Cadeiras %index%
  size: 6

- key: coordenacao
  type: options
  title: Órgão gestor
  size: 6
  options:
    - value: 1
      label: Secretarias Estaduais de Meio Ambiente (ou correlatas) e de Educação
    - value: 2
      label: Apenas Secretaria de Estado de Meio Ambiente (ou correlatas)
    - value: 3
      label: Apenas Secretaria de Estado de Educação
    - value: 4
      label: Outra Pasta do Estado
    - value: 5
      label: Instituição da Sociedade Civil
    - value: 6
      label: Instituição de outro segmento

- key: coordenacao_especifique
  type: text
  title: Especifique
  size: 6
  show:
    target:
      key: coordenacao
      value: [4,6]

- key: regimento_interno_tem
  type: options
  title: Tem regimento?
  size: 4
  list: 
    module: property
    key: sim_nao

- key: regimento_interno
  type: text
  title: Título do regimento interno
  size: 12
  show:
    target:
      key: regimento_interno_tem
      value: true

- key: regimento_interno_tipo
  type: options
  title: Tipo de documento de regimento
  size: 2
  onchange:
    - key: regimento_interno_arquivo
      value:
    - key: regimento_interno_arquivo2
      value:
  list: 
    module: property
    key: tipo_arquivo

- key: regimento_interno_arquivo
  type: text
  title: Link para o regimento interno
  size: 6
  show:
    target:
      key: regimento_interno_tipo
      value: link

- key: regimento_interno_arquivo2
  type: file
  accept: application/pdf
  title: Arquivo de regimento
  db_field: regimento_interno_arquivo
  size: 6
  show:
    target:
      key: regimento_interno_tipo
      value: file

- key: org_interna_periodicidade
  type: options
  title: Periodicidade
  size: 6
  options:
    - value: 1
      label: Mensal
    - value: 2
      label: Bimestral
    - value: 3
      label: Semestral
    - value: 4
      label: Anual
    - value: 5
      label: Outro

- key: organizacao_interna_periodicidade_especifique
  type: text
  title: Especifique
  size: 6
  show:
    target:
      key: org_interna_periodicidade
      value: 5

- key: organizacao_interna_estrutura_tem
  type: options
  title: Possui câmaras técnicas ou grupos de trabalho?
  size: 6
  list: 
    module: property
    key: sim_nao

- key: organizacao_interna_estrutura_especifique
  type: text
  title: Especifique
  size: 6
  show:
    target:
      key: organizacao_interna_estrutura_tem
      value: true

- key: ppea_tem
  type: options
  title: Tem política pública?
  size: 4
  list: 
    module: property
    key: sim_nao

- key: ppea_tipo
  type: options
  title: Tipo de documento de política pública
  size: 2
  onchange:
    - key: ppea_arquivo
      value:
    - key: ppea_arquivo2
      value:
  list: 
    module: property
    key: tipo_arquivo

- key: ppea_arquivo
  type: text
  title: Link para a política pública
  size: 6
  show:
    target:
      key: ppea_tipo
      value: link

- key: ppea_arquivo2
  type: file
  accept: application/pdf
  title: Arquivo de política pública
  db_field: ppea_arquivo
  size: 6
  show:
    target:
      key: ppea_tipo
      value: file

- key: ppea_decreto
  type: text
  title: Decreto
  size: 3

- key: ppea_lei
  type: text
  title: Lei
  size: 3

- key: ppea2_tem
  type: options
  title: Tem política pública?
  size: 4
  list: 
    module: property
    key: sim_nao

- key: ppea2_tipo
  type: options
  title: Tipo de documento de política pública
  size: 2
  onchange:
    - key: ppea2_arquivo
      value:
    - key: ppea2_arquivo2
      value:
  list: 
    module: property
    key: tipo_arquivo

- key: ppea2_arquivo
  type: text
  title: Link para a política pública
  size: 6
  show:
    target:
      key: ppea2_tipo
      value: link

- key: ppea2_arquivo2
  type: file
  accept: application/pdf
  title: Arquivo de política pública
  db_field: ppea2_arquivo
  size: 6
  show:
    target:
      key: ppea2_tipo
      value: file

- key: ppea2_decreto
  type: text
  title: Decreto
  size: 3

- key: ppea2_lei
  type: text
  title: Lei
  size: 3

- key: programa_estadual_tem
  type: options
  title: Tem programa estadual?
  size: 4
  list: 
    module: property
    key: sim_nao

- key: programa_estadual_tipo
  type: options
  title: Tipo de documento
  size: 2
  onchange:
    - key: programa_estadual_arquivo
      value:
    - key: programa_estadual_arquivo2
      value:
  list: 
    module: property
    key: tipo_arquivo

- key: programa_estadual_arquivo
  type: text
  title: Link para o programa
  size: 6
  show:
    target:
      key: programa_estadual_tipo
      value: link

- key: programa_estadual_arquivo2
  type: file
  accept: application/pdf
  title: Arquivo do programa
  db_field: programa_estadual_arquivo
  size: 6
  show:
    target:
      key: programa_estadual_tipo
      value: file

- key: programa_estadual_decreto
  type: text
  title: Decreto
  size: 3

- key: programa_estadual_lei
  type: text
  title: Lei
  size: 3

- key: plano_estadual_tem
  type: options
  title: Tem plano estadual?
  size: 4
  list: 
    module: property
    key: sim_nao

- key: plano_estadual_tipo
  type: options
  title: Tipo de documento
  size: 2
  onchange:
    - key: plano_estadual_arquivo
      value:
    - key: plano_estadual_arquivo2
      value:
  list: 
    module: property
    key: tipo_arquivo

- key: plano_estadual_arquivo
  type: text
  title: Link para o plano
  size: 6
  show:
    target:
      key: plano_estadual_tipo
      value: link

- key: plano_estadual_arquivo2
  type: file
  accept: application/pdf
  title: Arquivo do plano
  db_field: plano_estadual_arquivo
  size: 6
  show:
    target:
      key: plano_estadual_tipo
      value: file

- key: plano_estadual_decreto
  type: text
  title: Decreto
  size: 3

- key: plano_estadual_lei
  type: text
  title: Lei
  size: 3

################################################################

blocks:

  - key: detalhes
    title: Detalhes da comissão
    elements:
      - logo_arquivo
      - uf_nome
      - regiao
      - data_criacao
      - ativo
      - link
  
  - key: documento
    title: Documento de criação
    elements:
      - documento_criacao
      - documento_criacao_tipo
      - documento_criacao_arquivo
      - documento_criacao_arquivo2

  - key: composicao
    title: Composição
    elements:
      - type: field
        key: composicao_cadeiras_set_pub
      - composicao_cadeiras_soc_civ # opcao curta (sem type é campo)
      - type: block # posicional para sem view, hierarquico para ambos
        key: composicao_cadeiras_outros

  - key: composicao_cadeiras_outros
    elements:
      - setor
      - cadeiras
    iterate:
      target: none
      index: default
      add: Adicionar setor
  
  - key: coordenacao_block
    title: Coordenação
    elements:
      - coordenacao
      - coordenacao_especifique

  - key: regimento_interno_block
    title: Regimento interno
    elements:
      - regimento_interno_tem
      - regimento_interno
      - type: block
        key: regimento_interno_tem_block

  - key: regimento_interno_tem_block
    elements:
      - regimento_interno_tipo
      - regimento_interno_arquivo
      - regimento_interno_arquivo2    
    show:
      target:
        key: regimento_interno_tem
        value: true

  - key: organizacao_interna
    title: Organização interna
    elements:
      - org_interna_periodicidade
      - organizacao_interna_periodicidade_especifique
      - organizacao_interna_estrutura_tem
      - organizacao_interna_estrutura_especifique

  - key: ppea_block
    title: Política Pública Estadual de Educação Ambiental
    elements:
      - ppea_tem
      - type: block
        key: ppea_tem_block

  - key: ppea_tem_block
    elements:
      - ppea_tipo
      - ppea_arquivo
      - ppea_arquivo2
      - ppea_decreto    
      - ppea_lei    
    show:
      target:
        key: ppea_tem
        value: true

  - key: ppea2_block
    title: Política Pública Estadual de Mudanças do Clima
    elements:
      - ppea2_tem
      - type: block
        key: ppea2_tem_block

  - key: ppea2_tem_block
    elements:
      - ppea2_tipo
      - ppea2_arquivo
      - ppea2_arquivo2
      - ppea2_decreto    
      - ppea2_lei    
    show:
      target:
        key: ppea2_tem
        value: true
  
  - key: programa_estadual_block
    title: Programa Estadual de Educação Ambiental
    elements:
      - programa_estadual_tem
      - type: block
        key: programa_estadual_tem_block

  - key: programa_estadual_tem_block
    elements:
      - programa_estadual_tipo
      - programa_estadual_arquivo
      - programa_estadual_arquivo2
      - programa_estadual_decreto    
      - programa_estadual_lei    
    show:
      target:
        key: programa_estadual_tem
        value: true
  
  - key: plano_estadual_block
    title: Plano Estadual de Educação Ambiental
    elements:
      - plano_estadual_tem
      - type: block
        key: plano_estadual_tem_block

  - key: plano_estadual_tem_block
    elements:
      - plano_estadual_tipo
      - plano_estadual_arquivo
      - plano_estadual_arquivo2
      - plano_estadual_decreto    
      - plano_estadual_lei    
    show:
      target:
        key: plano_estadual_tem
        value: true

################################################################
# objetos livres não definida no protocolo, para fins de abastecer o servidor com mais informações

link_or_file_fields:
  - documento_criacao
  - regimento_interno
  - ppea
  - ppea2
  - programa_estadual
  - plano_estadual  