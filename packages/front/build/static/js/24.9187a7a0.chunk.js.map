{"version":3,"sources":["images/robot.png","../node_modules/@mui/system/esm/createBox.js","../node_modules/@mui/material/Box/Box.js","tools/notifications/NewIndicatedProjectNotification/styles.module.scss","tools/notifications/NewIndicatedProjectNotification/index.js"],"names":["_excluded","Box","options","defaultTheme","defaultClassName","generateClassName","styleFunctionSx","defaultStyleFunctionSx","BoxRoot","styled","React","inProps","ref","theme","useTheme","_extendSxProp","extendSxProp","className","component","other","_objectWithoutPropertiesLoose","_jsx","_extends","as","clsx","createBox","createTheme","ClassNameGenerator","generate","module","exports","NewIndicatedProjectNotification","data","server","useDorothy","useSnackbar","enqueueSnackbar","closeSnackbar","useState","date","_date","open","_open","contact_name","_contact_name","contact_email","_contact_email","contact_phone","_contact_phone","website","_website","mutations","sendData","useMutation","withData","axios","post","content","indicationId","notificationId","id","useEffect","dayjs","createdAt","format","handleSave","snackKey","persist","anchorOrigin","vertical","horizontal","mutateAsync","variant","console","error","sx","padding","marginTop","backgroundColor","position","zIndex","minHeight","width","boxShadow","borderRadius","display","justifyContent","src","robot","alt","height","marginLeft","fontWeight","fontSize","styles","mainDiv","indicationName","type","answered","actions","size","onClick","onClose","fullWidth","maxWidth","label","value","onChange","e","target","autoFocus"],"mappings":"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","file":"static/js/24.9187a7a0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/robot.cdf24279.png\";","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"component\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport styled from '@mui/styled-engine';\nimport defaultStyleFunctionSx, { extendSxProp } from './styleFunctionSx';\nimport useTheme from './useTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function createBox(options = {}) {\n  const {\n    defaultTheme,\n    defaultClassName = 'MuiBox-root',\n    generateClassName,\n    styleFunctionSx = defaultStyleFunctionSx\n  } = options;\n  const BoxRoot = styled('div')(styleFunctionSx);\n  const Box = /*#__PURE__*/React.forwardRef(function Box(inProps, ref) {\n    const theme = useTheme(defaultTheme);\n\n    const _extendSxProp = extendSxProp(inProps),\n          {\n      className,\n      component = 'div'\n    } = _extendSxProp,\n          other = _objectWithoutPropertiesLoose(_extendSxProp, _excluded);\n\n    return /*#__PURE__*/_jsx(BoxRoot, _extends({\n      as: component,\n      ref: ref,\n      className: clsx(className, generateClassName ? generateClassName(defaultClassName) : defaultClassName),\n      theme: theme\n    }, other));\n  });\n  return Box;\n}","import { createBox } from '@mui/system';\nimport PropTypes from 'prop-types';\nimport { unstable_ClassNameGenerator as ClassNameGenerator } from '../className';\nimport { createTheme } from '../styles';\nconst defaultTheme = createTheme();\nconst Box = createBox({\n  defaultTheme,\n  defaultClassName: 'MuiBox-root',\n  generateClassName: ClassNameGenerator.generate\n});\nprocess.env.NODE_ENV !== \"production\" ? Box.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Box;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainDiv\":\"styles_mainDiv__CE7wf\",\"actions\":\"styles_actions__1p7Tr\"};","import React, { useState, useEffect } from 'react';\n\nimport dayjs from 'dayjs';\nimport { Box } from '@mui/material';\nimport robot from '../../../images/robot.png';\n\nimport styles from './styles.module.scss';\n\nimport { useMutation } from 'react-query';\nimport axios from 'axios';\n\nimport { useDorothy } from 'dorothy-dna-react';\n\nimport { useSnackbar } from 'notistack';\n\nimport {\n    TextField,\n    Dialog,\n    DialogTitle,\n    DialogContent,\n    DialogActions,\n    Button,\n} from '@mui/material';\n\nexport default function NewIndicatedProjectNotification({ data }) {\n    const { server } = useDorothy();\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const [date, _date] = useState('');\n    const [open, _open] = useState(false);\n\n    const [contact_name, _contact_name] = useState('');\n    const [contact_email, _contact_email] = useState('');\n    const [contact_phone, _contact_phone] = useState('');\n    const [website, _website] = useState('');\n\n    const mutations = {\n        sendData: useMutation(\n            (withData) => {\n                return axios.post(`${server}project/indication/${data.content.indicationId}`, { \n                    // ...data.content, \n                    withData,\n                    notificationId: data.id,\n                    contact_name,\n                    contact_email,\n                    contact_phone,\n                    website,\n                });\n            },\n        ),\n    }\n\n    useEffect(() => {\n        if (!data) return;\n\n        _date(dayjs(data.createdAt).format('DD/MM/YYYY HH:mm'));\n\n        _contact_name('');\n        _contact_email('');\n        _contact_phone('');\n        _website('');\n    }, [data]);\n\n    const handleSave = async (withData) => {\n\n        const snackKey = enqueueSnackbar('Enviando resposta...', {\n            /* variant: 'info', */\n            /* hideIconVariant: true, */\n            persist: true,\n            anchorOrigin: {\n                vertical: 'top',\n                horizontal: 'center',\n            },\n        });\n\n        try {\n            await mutations.sendData.mutateAsync(withData);\n\n            closeSnackbar(snackKey);\n\n            enqueueSnackbar('Resposta enviada com sucesso!', {\n                variant: 'success',\n                anchorOrigin: {\n                    vertical: 'top',\n                    horizontal: 'right',\n                },\n            });\n\n            _open(false);\n        } catch (error) {\n            closeSnackbar(snackKey);\n\n            console.error(error);\n\n            enqueueSnackbar('Erro ao enviar a resposta!', {\n                variant: 'error',\n                anchorOrigin: {\n                    vertical: 'top',\n                    horizontal: 'right',\n                },\n            });\n        }\n    }\n\n    return (<>\n        <Box\n            sx={{\n                padding: '24px',\n                marginTop: '48px',\n                backgroundColor: 'white',\n                position: 'relative',\n                zIndex: '1',\n                minHeight: '100px',\n                width: '100%',\n                boxShadow: '0px 0px 8px #0000001A',\n                borderRadius: '8px',\n            }}\n        >\n            <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n                <Box sx={{ display: 'flex' }}>\n                    <Box\n                        as=\"img\"\n                        src={robot}\n                        alt=\"salve\"\n                        sx={{ borderRadius: '50%', width: '48px', height: '48px' }}\n                    />\n                    <Box sx={{ marginLeft: '8px' }}>\n                        <Box sx={{ fontWeight: 'bold', fontSize: '16px' }}>\n                            Sua iniciativa foi indicada\n                        </Box>\n                        <Box sx={{ fontSize: '14px' }}>{date}</Box>\n                    </Box>\n                </Box>\n                {/* <Box>\n            <ArrowRightCircle size=\"32px\" />\n          </Box> */}\n            </Box>\n            <Box sx={{ marginTop: '8px' }}>\n                {/* {JSON.stringify(data)} */}\n\n                <div className={styles.mainDiv}>\n                    <div>\n                        <div>\n                            Alguém da comunidade da sua iniciativa indicou a iniciativa \"{data.content.indicationName}\"\n                            {data.content.type === 'apoia' && <span> como uma de suas apoiadoras.</span>}\n                            {data.content.type === 'apoiada' && <span> como uma de suas iniciativas apoiadas.</span>} \n                            {' '}Precisamos de algumas informações sobre essa iniciativa. Vocês poderiam dar mais detalhes sobre esta iniciativa?\n                        </div>\n                    </div>\n                    {data && !data.content.answered && <div className={styles.actions}>\n\n                        <button className='button-primary' size=\"small\" onClick={() => _open(true)}>Sim</button>\n                        <button className='button-outline' size=\"small\" onClick={() => handleSave(false)}>Não</button>\n\n                    </div>}\n                </div>\n            </Box>\n        </Box>\n\n        <Dialog\n            open={open}\n            onClose={() => _open(false)}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n            maxWidth=\"sm\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">Mais informações sobre a iniciativa</DialogTitle>\n            <DialogContent id=\"alert-dialog-description\">\n                <div className='row'>\n                    <div className=\"col-md-12\">\n                        <TextField\n                            label=\"Nome do contato\"\n                            className=\"input-text\"\n                            value={contact_name}\n                            onChange={e => _contact_name(e.target.value)}\n                        />\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className=\"col-md-12\">\n                        <TextField\n                            label=\"E-mail do contato\"\n                            className=\"input-text\"\n                            value={contact_email}\n                            onChange={e => _contact_email(e.target.value)}\n                        />\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className=\"col-md-12\">\n                        <TextField\n                            label=\"Telefone do contato\"\n                            className=\"input-text\"\n                            value={contact_phone}\n                            onChange={e => _contact_phone(e.target.value)}\n                        />\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className=\"col-md-12\">\n                        <TextField\n                            label=\"Website\"\n                            className=\"input-text\"\n                            value={website}\n                            onChange={e => _website(e.target.value)}\n                        />\n                    </div>\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <button className=\"button-primary\" onClick={() => handleSave(true)}>\n                    Enviar\n                </button>\n                <Button onClick={() => _open(false)} autoFocus>\n                    Cancelar\n                </Button>\n            </DialogActions>\n        </Dialog>\n    </>)\n}"],"sourceRoot":""}