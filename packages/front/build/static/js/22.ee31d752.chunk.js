(this["webpackJsonpzcm-v2-frontend"]=this["webpackJsonpzcm-v2-frontend"]||[]).push([[22],{325:function(e,t,n){"use strict";t.a=n.p+"static/media/robot.cdf24279.png"},332:function(e,t,n){"use strict";var a=n(2),c=n(3),r=n(0),i=n(8),o=n(119),s=n(292),u=n(299),d=n(83),l=n(1),j=["className","component"];var b=n(241),p=n(172),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,b=void 0===n?"MuiBox-root":n,p=e.generateClassName,f=e.styleFunctionSx,x=void 0===f?s.a:f,O=Object(o.a)("div")(x),m=r.forwardRef((function(e,n){var r=Object(d.a)(t),o=Object(u.a)(e),s=o.className,f=o.component,x=void 0===f?"div":f,m=Object(c.a)(o,j);return Object(l.jsx)(O,Object(a.a)({as:x,ref:n,className:Object(i.a)(s,p?p(b):b),theme:r},m))}));return m}({defaultTheme:Object(p.a)(),defaultClassName:"MuiBox-root",generateClassName:b.a.generate});t.a=f},564:function(e,t,n){e.exports={mainDiv:"IndicationNotification_mainDiv__AdUr3",actions:"IndicationNotification_actions__1b_PI"}},620:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n(117),c=n(17),r=n(24),i=n(9),o=n(0),s=n(135),u=n.n(s),d=n(332),l=n(325),j=n(564),b=n.n(j),p=n(38),f=n(19),x=n.n(f),O=n(16),m=n(35),h=n(1);function v(e){var t=e.data,n=Object(O.e)().server,s=Object(m.b)(),j=s.enqueueSnackbar,f=s.closeSnackbar,v=Object(p.useQueryClient)(),g=Object(o.useState)(""),y=Object(i.a)(g,2),N=y[0],I=y[1],w=Object(o.useState)(null),S=Object(i.a)(w,2),k=S[0],z=S[1],C=Object(o.useState)(!1),_=Object(i.a)(C,2),D=_[0],A=_[1],P=Object(p.useQuery)(["indic_notif",{sourceProjectId:t.content.sourceProjectId,type:t.content.type,sourceDraftId:t.content.sourceDraftId,indicationId:t.content.indicationId}],{queryFn:function(){var e=Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(n,"project/").concat(t.content.sourceProjectId,"/relation/agreement/").concat(t.content.type,"/").concat(t.content.sourceDraftId,"/").concat(t.content.indicationId));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enabled:!!t.content}),E=P.data,M={sendAgreement:Object(p.useMutation)((function(e){return x.a.put("".concat(n,"project/").concat(t.content.sourceProjectId,"/relation/agreement"),Object(a.a)(Object(a.a)({},t.content),{},{agreement:e}))}))};Object(o.useEffect)((function(){t&&(v.invalidateQueries("indic_notif"),I(u()(t.createdAt).format("DD/MM/YYYY HH:mm")))}),[t,v]),Object(o.useEffect)((function(){E&&z(E.agreement)}),[E]);var T=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),n=j("Enviando resposta...",{persist:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),e.prev=2,e.next=5,M.sendAgreement.mutateAsync(t);case 5:f(n),j("Envio efetuado com sucesso!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),f(n),console.error(e.t0),j("Erro ao enviar a resposta!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}});case 14:return e.prev=14,A(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,9,14,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(d.a,{sx:{padding:"24px",marginTop:"48px",backgroundColor:"white",position:"relative",zIndex:"1",minHeight:"100px",width:"100%",boxShadow:"0px 0px 8px #0000001A",borderRadius:"8px"},children:[Object(h.jsx)(d.a,{sx:{display:"flex",justifyContent:"space-between"},children:Object(h.jsxs)(d.a,{sx:{display:"flex"},children:[Object(h.jsx)(d.a,{as:"img",src:l.a,alt:"salve",sx:{borderRadius:"50%",width:"48px",height:"48px"}}),Object(h.jsxs)(d.a,{sx:{marginLeft:"8px"},children:[Object(h.jsx)(d.a,{sx:{fontWeight:"bold",fontSize:"16px"},children:"Sua iniciativa foi indicada"}),Object(h.jsx)(d.a,{sx:{fontSize:"14px"},children:N})]})]})}),Object(h.jsx)(d.a,{sx:{marginTop:"8px"},children:Object(h.jsxs)("div",{className:b.a.mainDiv,children:[Object(h.jsxs)("div",{children:['A iniciativa "',t.content.sourceProjectName,'" indicou que sua iniciativa',"apoia"===t.content.type&&Object(h.jsx)("span",{children:" \xe9 uma de suas apoiadoras."}),"apoiada"===t.content.type&&Object(h.jsx)("span",{children:" \xe9 apoiada por ela."})]}),null===k&&Object(h.jsxs)("div",{className:b.a.actions,children:[Object(h.jsx)("button",{className:"button-primary",size:"small",disabled:D,onClick:function(){return T(!0)},children:"Sim, reconhe\xe7o"}),Object(h.jsx)("button",{className:"button-outline",size:"small",disabled:D,onClick:function(){return T(!1)},children:"N\xe3o reconhe\xe7o"})]})]})})]})}}}]);
//# sourceMappingURL=22.ee31d752.chunk.js.map