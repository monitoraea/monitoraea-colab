(this["webpackJsonpzcm-v2-frontend"]=this["webpackJsonpzcm-v2-frontend"]||[]).push([[16],{326:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(327),r=n.n(c),a=n(1),i=function(e){var t=e.title;return Object(a.jsx)("div",{className:r.a["page-title"],children:t})}},327:function(e,t,n){e.exports={"page-title":"PageTitle_page-title__1MUJj"}},333:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(1);function r(){return Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(c.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object(c.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Object(c.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(c.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}},335:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(0);var c=n(251),r=n(255),a=n(253),i=n(245),o=n(250),s=n(1);function l(e){var t=e.open,n=e.title,l=e.content,u=e.cancelButtonText,j=void 0===u?"Cancelar":u,d=e.confirmButtonText,b=void 0===d?"Confirmar":d,O=e.onClose;return Object(s.jsx)("div",{children:Object(s.jsxs)(c.a,{open:t,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n&&Object(s.jsx)(i.a,{id:"alert-dialog-title",children:n}),Object(s.jsx)(a.a,{children:l}),Object(s.jsxs)(r.a,{children:[Object(s.jsx)(o.a,{onClick:function(){return O("cancel")},autoFocus:!0,children:j}),Object(s.jsx)("button",{className:"button-primary",onClick:function(){return O("confirm")},children:b})]})]})})}},415:function(e,t,n){e.exports={"svg-icon-box":"FreeMultiple_svg-icon-box__qg-T2",title:"FreeMultiple_title__1hUVc",error:"FreeMultiple_error__3SESp",new_line:"FreeMultiple_new_line__3KDDa"}},542:function(e,t){var n={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},c=Object.keys(n).join("|"),r=new RegExp(c,"g"),a=new RegExp(c,""),i=function(e){return e.replace(r,(function(e){return n[e]}))};e.exports=i,e.exports.has=function(e){return!!e.match(a)},e.exports.remove=i},570:function(e,t,n){"use strict";var c=n(5),r=n(3),a=n(2),i=n(116),o=n(8),s=n(0),l=n(304),u=n(134),j=n(1),d=Object(u.a)(Object(j.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),b=n(4),O=n(11),x=n(14),h=n(73),v=n(82);function p(e){return Object(h.a)("MuiTableSortLabel",e)}var m=Object(v.a)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),f=["active","children","className","direction","hideSortIcon","IconComponent"],g=Object(b.a)(l.a,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.active&&t.active]}})((function(e){var t=e.theme;return Object(c.a)({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":Object(c.a)({color:(t.vars||t).palette.text.secondary},"& .".concat(m.icon),{opacity:.5})},"&.".concat(m.active),Object(c.a)({color:(t.vars||t).palette.text.primary},"& .".concat(m.icon),{opacity:1,color:(t.vars||t).palette.text.secondary}))})),y=Object(b.a)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,t["iconDirection".concat(Object(x.a)(n.direction))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(a.a)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===n.direction&&{transform:"rotate(0deg)"},"asc"===n.direction&&{transform:"rotate(180deg)"})})),C=s.forwardRef((function(e,t){var n=Object(O.a)({props:e,name:"MuiTableSortLabel"}),c=n.active,s=void 0!==c&&c,l=n.children,u=n.className,b=n.direction,h=void 0===b?"asc":b,v=n.hideSortIcon,m=void 0!==v&&v,C=n.IconComponent,w=void 0===C?d:C,k=Object(r.a)(n,f),N=Object(a.a)({},n,{active:s,direction:h,hideSortIcon:m,IconComponent:w}),S=function(e){var t=e.classes,n=e.direction,c={root:["root",e.active&&"active"],icon:["icon","iconDirection".concat(Object(x.a)(n))]};return Object(i.a)(c,p,t)}(N);return Object(j.jsxs)(g,Object(a.a)({className:Object(o.a)(S.root,u),component:"span",disableRipple:!0,ownerState:N,ref:t},k,{children:[l,m&&!s?null:Object(j.jsx)(y,{as:w,className:Object(o.a)(S.icon),ownerState:N})]}))}));t.a=C},637:function(e,t,n){"use strict";n.r(t);var c=n(25),r=n(17),a=n(24),i=n(9),o=n(0),s=n(27),l=n(638),u=n(642),j=n(332),d=n(570),b=n(308),O=n(335),x=n(251),h=n(255),v=n(253),p=n(245),m=n(250),f=n(1);function g(){return Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(f.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}function y(){return Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),Object(f.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})}var C=n(542),w=n.n(C),k=n(16),N=n(19),S=n.n(N),A=n(326),I=n(35),E=n(333),U=n(415),M=n.n(U),L=n(38);function R(e){var t=e.text,n=e.column,c=e.order,r=e.direction,a=e.onClick;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(d.a,{className:"tbox-table-sortlabel",active:c===n,direction:"desc"===r?"asc":"desc",onClick:function(){return a(n)},children:t})})}function _(e){var t=e.open,n=e.onCreate,c=e.onClose,r=Object(o.useState)(""),a=Object(i.a)(r,2),s=a[0],l=a[1];return Object(o.useEffect)((function(){t&&l("")}),[t]),Object(f.jsx)("div",{children:Object(f.jsxs)(x.a,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",maxWidth:"md",fullWidth:!0,children:[Object(f.jsx)(p.a,{id:"alert-dialog-title",children:"Nova iniciativa"}),Object(f.jsx)(v.a,{children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-xs-12",children:Object(f.jsx)(b.a,{className:"input-text",label:"Nome da nova iniciativa",value:s,onChange:function(e){return l(e.target.value)}})})})}),Object(f.jsxs)(h.a,{children:[Object(f.jsx)(m.a,{onClick:function(){return c()},autoFocus:!0,children:"Cancelar"}),Object(f.jsx)("button",{className:"button-primary",onClick:function(){return n(s)},children:"Criar"})]})]})})}t.default=function(){var e=Object(k.e)().server,t=Object(k.g)(),n=t.currentCommunity,d=t.changeRoute,b=Object(I.b)(),x=b.enqueueSnackbar,h=b.closeSnackbar,v=Object(o.useRef)(null),p=Object(L.useQueryClient)(),m=Object(o.useState)([]),C=Object(i.a)(m,2),N=C[0],U=C[1],T=Object(o.useState)(0),z=Object(i.a)(T,2),D=z[0],B=z[1],F=Object(o.useState)(""),W=Object(i.a)(F,2),q=W[0],G=W[1],P=Object(o.useState)("name"),Q=Object(i.a)(P,2),V=Q[0],X=Q[1],Y=Object(o.useState)("asc"),H=Object(i.a)(Y,2),J=H[0],K=H[1],Z=Object(o.useState)(null),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ne=Object(o.useState)(!1),ce=Object(i.a)(ne,2),re=ce[0],ae=ce[1],ie=Object(k.h)().user,oe=Object(o.useState)(!1),se=Object(i.a)(oe,2),le=se[0],ue=se[1],je=Object(o.useState)(!1),de=Object(i.a)(je,2),be=de[0],Oe=de[1],xe=s.c,he=Object(L.useQuery)(["communities_list",{currentCommunity:n.id,order:V,direction:J}],{queryFn:function(){var t=Object(a.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("".concat(e,"gt/").concat(n.id,"/?order=").concat(V,"&direction=").concat(J));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),ve=he.data,pe={create:Object(L.useMutation)((function(t){return S.a.post("".concat(e,"project/?communityId=").concat(n.id),{nome:t})}),{onSuccess:function(){p.invalidateQueries("communities_list")}})},me={remove:Object(L.useMutation)((function(t){return S.a.delete("".concat(e,"project/").concat(t))}),{onSuccess:function(){return p.invalidateQueries("communities_list")}})};Object(o.useEffect)((function(){if(ve){B(ve.total);var e=Object(c.a)(ve.entities);q.trim().length&&(e=e.filter((function(e){return w()(e.name.toLowerCase()).includes(w()(q.trim().toLocaleLowerCase()))}))),U(e)}}),[ve,q]),Object(o.useEffect)((function(){Oe(ie.membership.map((function(e){return 1===e.id||e.id===n.id&&"adm"===e.type})).reduce((function(e,t){return e||t})))}),[be,ie,n]);var fe=function(e){V===e?K("asc"===J?"desc":"asc"):(X(e),K("desc"))},ge=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,c,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.length){e.next=2;break}return e.abrupt("return");case 2:return n=x("Criando a Iniciativa..",{persist:!0,anchorOrigin:{vertical:"top",horizontal:"right"}}),e.prev=3,e.next=6,pe.create.mutateAsync(t);case 6:c=e.sent,a=c.data,h(n),x("Iniciativa gravado com sucesso!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),ue(!1),window.location="/colabora/projeto/".concat(a.communityId),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),h(n),console.error(e.t0),x("Erro ao gravar a iniciativa!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}});case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("confirm"!==t){e.next=4;break}return e.next=3,me.remove.mutateAsync(ee);case 3:x("Iniciativa deletada com sucesso!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}});case 4:te(null),ae(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"page width-limiter tbox-fixed",children:[Object(f.jsxs)("div",{className:"page-header",children:[Object(f.jsx)(A.a,{title:"Grupos de trabalho ("+D+")"}),Object(f.jsxs)("div",{className:"page-header-buttons",children:[Object(f.jsx)("button",{className:"button-primary",onClick:function(){return ue(!0)},children:"Nova iniciativa"}),1===n.id&&Object(f.jsx)("button",{className:"button-outline",onClick:function(){return window.open("".concat(e,"project/spreadsheet"),"_blank")},children:"Baixar planilha"})]})]}),Object(f.jsx)("div",{className:"page-content",children:Object(f.jsx)("div",{className:"page-body",children:Object(f.jsxs)("div",{className:"tablebox limit-height",children:[Object(f.jsx)("div",{className:"tbox-header",children:Object(f.jsx)(xe,{spellCheck:"false",className:"tbox-search",startAdornment:Object(f.jsx)(g,{onClick:function(){var e;return null===(e=v.current)||void 0===e?void 0:e.focus()}}),inputRef:v,placeholder:"Pesquisar...",inputProps:{"aria-label":"pesquisar grupos"},value:q,onChange:function(e){return G(e.target.value)}})}),Object(f.jsx)("div",{className:"tbox-body",children:Object(f.jsxs)("table",{className:"tbox-table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:Object(f.jsx)(R,{text:"Grupos de trabalho",column:"name",order:V,direction:J,onClick:fe})}),Object(f.jsx)("th",{children:Object(f.jsx)(R,{text:"Tipo",column:"typeName",order:V,direction:J,onClick:fe})}),Object(f.jsx)("th",{children:"A\xe7\xf5es"})]})}),Object(f.jsx)("tbody",{children:N.map((function(e){return Object(f.jsxs)("tr",{className:"tbox-row",children:[Object(f.jsx)("td",{children:e.name}),Object(f.jsx)("td",{children:e.typeName}),Object(f.jsxs)("td",{className:"tbox-table-actions",children:[Object(f.jsx)("div",{onClick:function(){return d({community:e.id})},children:Object(f.jsx)(y,{})}),Object(f.jsx)("div",{className:M.a["svg-icon-box"],children:be&&!0===be&&Object(f.jsx)(l.a,{title:"Remover",children:Object(f.jsx)(u.a,{onClick:function(){return t=e.id,te(t),void ae(!0);var t},children:Object(f.jsx)(E.a,{})})})})]})]},e.id)}))})]})})]})})}),Object(f.jsx)(j.a,{display:"flex",justifyContent:"space-between"}),Object(f.jsx)(O.a,{open:re,content:"Confirma a remo\xe7\xe3o deste produtor?",confirmButtonText:"Remover",onClose:ye})]}),Object(f.jsx)(_,{open:le,onCreate:ge,onClose:function(){return ue(!1)}})]})}}}]);
//# sourceMappingURL=16.6ee94c3f.chunk.js.map