import{r as t,e as _,j as n,T as C}from"./index-BBw7QwKF.js";import{A as E}from"./Autocomplete-Cdct8V3n.js";import{C as L}from"./CircularProgress-B17gzErQ.js";const O={"full-input":"_full-input_nxujk_1"};function S({label:d="Label",url:m,query:f="",value:o,titleField:a,onChange:x,error:g}){const[i,r]=t.useState(!1),[h,p]=t.useState([]),[j,l]=t.useState([]),{data:u,isLoading:c}=_(`${m}/${f}`,{enabled:i});t.useEffect(()=>{p(u?u.list:[])},[u]),t.useEffect(()=>{l(o||[])},[o]);const A=(e,s)=>{l(s),x(s)};return n.jsx(n.Fragment,{children:n.jsx(E,{className:"input-autocomplete",id:"asynchronous-demo",open:i,onOpen:()=>{r(!0)},onClose:()=>{r(!1)},onChange:A,value:j,isOptionEqualToValue:(e,s)=>e.id===s.id,getOptionLabel:e=>a?e[a]:e.name,options:h,noOptionsText:"Nenhuma opção",loading:c,multiple:!0,filterSelectedOptions:!0,fullWidth:!0,renderInput:e=>n.jsx(C,{...e,label:d,error:g,InputProps:{...e.InputProps,className:O["full-input"],endAdornment:n.jsxs(t.Fragment,{children:[c?n.jsx(L,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})})})}export{S as A};
