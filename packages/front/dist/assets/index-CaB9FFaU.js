import{u as D,c as C,r as t,f as k,A as z,j as a,D as E,h as A,i as T,T as o,k as B,B as I,l as M}from"./index-BN3gKjL8.js";import{r as R}from"./robot-DMXJz1T6.js";import{B as i}from"./Box-C5mAkSw4.js";const W="_mainDiv_chtiv_1",Y="_actions_chtiv_6",b={mainDiv:W,actions:Y};function P({data:s}){const{server:f}=D(),{enqueueSnackbar:c,closeSnackbar:r}=C(),[N,_]=t.useState(""),[y,n]=t.useState(!1),[l,d]=t.useState(""),[x,m]=t.useState(""),[u,h]=t.useState(""),[p,v]=t.useState(""),S={sendData:k(e=>M.post(`${f}project/indication/${s.content.indicationId}`,{withData:e,notificationId:s.id,contact_name:l,contact_email:x,contact_phone:u,website:p}))};t.useEffect(()=>{s&&(_(z(s.createdAt).format("DD/MM/YYYY HH:mm")),d(""),m(""),h(""),v(""))},[s]);const j=async e=>{const g=c("Enviando resposta...",{persist:!0,anchorOrigin:{vertical:"top",horizontal:"center"}});try{await S.sendData.mutateAsync(e),r(g),c("Resposta enviada com sucesso!",{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),n(!1)}catch(w){r(g),console.error(w),c("Erro ao enviar a resposta!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}})}};return a.jsxs(a.Fragment,{children:[a.jsxs(i,{sx:{padding:"24px",marginTop:"48px",backgroundColor:"white",position:"relative",zIndex:"1",minHeight:"100px",width:"100%",boxShadow:"0px 0px 8px #0000001A",borderRadius:"8px"},children:[a.jsx(i,{sx:{display:"flex",justifyContent:"space-between"},children:a.jsxs(i,{sx:{display:"flex"},children:[a.jsx(i,{as:"img",src:R,alt:"salve",sx:{borderRadius:"50%",width:"48px",height:"48px"}}),a.jsxs(i,{sx:{marginLeft:"8px"},children:[a.jsx(i,{sx:{fontWeight:"bold",fontSize:"16px"},children:"Sua iniciativa foi indicada"}),a.jsx(i,{sx:{fontSize:"14px"},children:N})]})]})}),a.jsx(i,{sx:{marginTop:"8px"},children:a.jsxs("div",{className:b.mainDiv,children:[a.jsx("div",{children:a.jsxs("div",{children:['Alguém da comunidade da sua iniciativa indicou a iniciativa "',s.content.indicationName,'"',s.content.type==="apoia"&&a.jsx("span",{children:" como uma de suas apoiadoras."}),s.content.type==="apoiada"&&a.jsx("span",{children:" como uma de suas iniciativas apoiadas."})," ","Precisamos de algumas informações sobre essa iniciativa. Vocês poderiam dar mais detalhes sobre esta iniciativa?"]})}),s&&!s.content.answered&&a.jsxs("div",{className:b.actions,children:[a.jsx("button",{className:"button-primary",size:"small",onClick:()=>n(!0),children:"Sim"}),a.jsx("button",{className:"button-outline",size:"small",onClick:()=>j(!1),children:"Não"})]})]})})]}),a.jsxs(E,{open:y,onClose:()=>n(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"sm",children:[a.jsx(A,{id:"alert-dialog-title",children:"Mais informações sobre a iniciativa"}),a.jsxs(T,{id:"alert-dialog-description",children:[a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-md-12",children:a.jsx(o,{label:"Nome do contato",className:"input-text",value:l,onChange:e=>d(e.target.value)})})}),a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-md-12",children:a.jsx(o,{label:"E-mail do contato",className:"input-text",value:x,onChange:e=>m(e.target.value)})})}),a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-md-12",children:a.jsx(o,{label:"Telefone do contato",className:"input-text",value:u,onChange:e=>h(e.target.value)})})}),a.jsx("div",{className:"row",children:a.jsx("div",{className:"col-md-12",children:a.jsx(o,{label:"Website",className:"input-text",value:p,onChange:e=>v(e.target.value)})})})]}),a.jsxs(B,{children:[a.jsx("button",{className:"button-primary",onClick:()=>j(!0),children:"Enviar"}),a.jsx(I,{onClick:()=>n(!1),autoFocus:!0,children:"Cancelar"})]})]})]})}export{P as default};
