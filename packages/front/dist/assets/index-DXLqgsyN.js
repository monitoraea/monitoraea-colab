import{r as n,e as g,j as s,Y as O,T as P,a1 as T}from"./index-DLt25zcS.js";function $({label:h="Label",url:r,urlSingle:u,query:j="",value:o,titleField:c,onChange:L,disabled:A,error:E}){const[d,p]=n.useState(!1),[b,f]=n.useState([]),[C,a]=n.useState(null),{data:i,isLoading:m}=g(`${u||r}/${o}`,{enabled:!!o}),{data:l,isLoading:x}=g(`${r}/${j}`,{enabled:d});n.useEffect(()=>{f(l?l.list:[])},[l]),n.useEffect(()=>{o||a(null)},[o]),n.useEffect(()=>{i&&a(i)},[i]);const I=(e,t)=>{a(t),L(t?t.id:null)};return s.jsx(s.Fragment,{children:s.jsx(O,{className:"input-autocomplete",id:"asynchronous-demo",disabled:A,open:d,onOpen:()=>{p(!0)},onClose:()=>{p(!1)},onChange:I,value:C,isOptionEqualToValue:(e,t)=>e.id===t.id,getOptionLabel:e=>c?e[c]:e.name,options:b,noOptionsText:"Nenhuma opção",loading:m||x,renderInput:e=>s.jsx(P,{...e,label:h,error:E,InputProps:{...e.InputProps,endAdornment:s.jsxs(n.Fragment,{children:[m||x?s.jsx(T,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}})})})}export{$ as A};
