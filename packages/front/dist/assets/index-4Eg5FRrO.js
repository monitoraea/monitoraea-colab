import{r as h,K as Lt,L as Vt,J as R,a1 as Bt,a7 as tr,G as be,j as f,a3 as ce,a4 as Ut,O as nr,a8 as rr,z as _e,N as zt,ar as or,W as Wt,Q as Kt,a9 as ye,as as jt,u as qt,b as Gt,d as Ht,c as Qt,e as Xt,f as Ne,D as lr,h as sr,i as ir,g as xt,S as ar,M as ur,T as yt,k as cr,B as Nt,af as dr,l as oe,ag as fr}from"./index-D86RA3IV.js";import{P as pr}from"./PageTitle-BoYOGQqw.js";import{E as hr}from"./Edit-SAbA1vsL.js";import{T as Y,A as gr,C as vr}from"./Trash-eVNNj0w9.js";import{S as mr}from"./index-DxldRukk.js";import{C as xr,A as yr}from"./index-Cr6h9BVa.js";import{F as Nr}from"./FormControlLabel-CL7TurTz.js";import{I as Z}from"./Popper-Djdz_uXk.js";import{B as wr}from"./Box-DnU_U0sJ.js";import"./CircularProgress-D99urk4b.js";import"./index-DwMITkdl.js";const Er=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-corner-right-down",...e},h.createElement("polyline",{points:"10 15 15 20 20 15"}),h.createElement("path",{d:"M4 4h7a4 4 0 0 1 4 4v12"})),Sr=Er,Ir=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus",...e},h.createElement("line",{x1:12,y1:5,x2:12,y2:19}),h.createElement("line",{x1:5,y1:12,x2:19,y2:12})),wt=Ir,Cr=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-down",...e},h.createElement("line",{x1:12,y1:5,x2:12,y2:19}),h.createElement("polyline",{points:"19 12 12 19 5 12"})),br=Cr,_r=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-up",...e},h.createElement("line",{x1:12,y1:19,x2:12,y2:5}),h.createElement("polyline",{points:"5 12 12 5 19 12"})),Tr=_r,Pr=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevrons-left",...e},h.createElement("polyline",{points:"11 17 6 12 11 7"}),h.createElement("polyline",{points:"18 17 13 12 18 7"})),Rr=Pr,Ar=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-right",...e},h.createElement("polyline",{points:"9 18 15 12 9 6"})),Or=Ar,kr=e=>h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-down",...e},h.createElement("polyline",{points:"6 9 12 15 18 9"})),Dr=kr;function Mr(e){return Lt("MuiTreeView",e)}Vt("MuiTreeView",["root"]);const Jt={instance:null,multiSelect:!1,disabledItemsFocusable:!1,treeId:void 0,icons:{defaultCollapseIcon:null,defaultExpandIcon:null,defaultParentIcon:null,defaultEndIcon:null}},Yt=h.createContext(Jt),Fr=(e,t)=>{const n=h.useRef({}),[r,o]=h.useState(()=>{const s={};return e.forEach(i=>{i.models&&Object.entries(i.models).forEach(([c,u])=>{n.current[c]={controlledProp:u.controlledProp,defaultProp:u.defaultProp,isControlled:t[u.controlledProp]!==void 0},s[c]=t[u.defaultProp]})}),s});return Object.fromEntries(Object.entries(n.current).map(([s,i])=>{const c=i.isControlled?t[i.controlledProp]:r[s];return[s,{value:c,setValue:u=>{i.isControlled||o(p=>R({},p,{[s]:u}))}}]}))};class $r{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let o=this.events[t];o||(o={highPriority:new Map,regular:new Map},this.events[t]=o),r.isFirst?o.highPriority.set(n,!0):o.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const o=Array.from(r.highPriority.keys()),l=Array.from(r.regular.keys());for(let s=o.length-1;s>=0;s-=1){const i=o[s];r.highPriority.has(i)&&i.apply(this,n)}for(let s=0;s<l.length;s+=1){const i=l[s];r.regular.has(i)&&i.apply(this,n)}}once(t,n){const r=this;this.on(t,function o(...l){r.removeListener(t,o),n.apply(r,l)})}}const Le=(e,t)=>{const n=e.getNode(t),r=e.getNavigableChildrenIds(n.parentId),o=r.indexOf(t);if(o===0)return n.parentId;let l=r[o-1];for(;e.isNodeExpanded(l)&&e.getNavigableChildrenIds(l).length>0;)l=e.getNavigableChildrenIds(l).pop();return l},ue=(e,t)=>{if(e.isNodeExpanded(t)&&e.getNavigableChildrenIds(t).length>0)return e.getNavigableChildrenIds(t)[0];let n=e.getNode(t);for(;n!=null;){const r=e.getNavigableChildrenIds(n.parentId),o=r[r.indexOf(n.id)+1];if(o)return o;n=e.getNode(n.parentId)}return null},We=e=>{let t=e.getNavigableChildrenIds(null).pop();for(;e.isNodeExpanded(t);)t=e.getNavigableChildrenIds(t).pop();return t},Ke=e=>e.getNavigableChildrenIds(null)[0],se=(e,t)=>{Object.assign(e,t)},Lr=e=>e.isPropagationStopped!==void 0,Vr=({instance:e})=>{const[t]=h.useState(()=>new $r),n=h.useCallback((...o)=>{const[l,s,i={}]=o;i.defaultMuiPrevented=!1,!(Lr(i)&&i.isPropagationStopped())&&t.emit(l,s,i)},[t]),r=h.useCallback((o,l)=>(t.on(o,l),()=>{t.removeListener(o,l)}),[t]);se(e,{$$publishEvent:n,$$subscribeEvent:r})},Br=[Vr],Ur=e=>{const t=[...Br,...e.plugins],n=t.reduce((a,g)=>g.getDefaultizedParams?g.getDefaultizedParams(a):a,e),r=Fr(t,n),l=h.useRef({}).current,s=h.useRef(null),i=Bt(s,e.rootRef),[c,u]=h.useState(()=>{const a={};return t.forEach(g=>{g.getInitialState&&Object.assign(a,g.getInitialState(n))}),a}),p=[];let d=Jt;const y=a=>{const g=a({instance:l,params:n,state:c,setState:u,rootRef:s,models:r})||{};g.getRootProps&&p.push(g.getRootProps),g.contextValue&&(d=g.contextValue)};return t.forEach(y),{getRootProps:(a={})=>{const g=R({role:"tree",tabIndex:0},a,{ref:i});return p.forEach(m=>{Object.assign(g,m(a))}),g},rootRef:i,contextValue:d}},zr=["element"];function Wr(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}function Kr(e,t){let n=0,r=e.length-1;for(;n<=r;){const o=Math.floor((n+r)/2);if(e[o].element===t)return o;e[o].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?r=o-1:n=o+1}return n}const Zt=h.createContext({});function jr(e){const t=h.useRef(null);return h.useEffect(()=>{t.current=e},[e]),t.current}const Et=()=>{};function qr(e){const[,t]=h.useState(),{registerDescendant:n=Et,unregisterDescendant:r=Et,descendants:o=[],parentId:l=null}=h.useContext(Zt),s=Wr(o,u=>u.element===e.element),i=jr(o),c=o.some((u,p)=>i&&i[p]&&i[p].element!==u.element);return tr(()=>{if(e.element)return n(R({},e,{index:s})),()=>{r(e.element)};t({})},[n,r,s,c,e]),{parentId:l,index:s}}function en(e){const{children:t,id:n}=e,[r,o]=h.useState([]),l=h.useCallback(c=>{let{element:u}=c,p=be(c,zr);o(d=>{if(d.length===0)return[R({},p,{element:u,index:0})];const y=Kr(d,u);let v;if(d[y]&&d[y].element===u)v=d;else{const a=R({},p,{element:u,index:y});v=d.slice(),v.splice(y,0,a)}return v.forEach((a,g)=>{a.index=g}),v})},[]),s=h.useCallback(c=>{o(u=>u.filter(p=>c!==p.element))},[]),i=h.useMemo(()=>({descendants:r,registerDescendant:l,unregisterDescendant:s,parentId:n}),[r,l,s,n]);return f.jsx(Zt.Provider,{value:i,children:t})}function Gr(e){const{value:t,children:n}=e;return f.jsx(Yt.Provider,{value:t,children:f.jsx(en,{children:n})})}const Hr=(e,t,n)=>{e.$$publishEvent(t,n)},Qr=({instance:e,params:t})=>{const n=h.useRef({}),r=h.useCallback(u=>n.current[u],[]),o=h.useCallback(u=>{n.current[u.id]=u},[]),l=h.useCallback(u=>{const p=R({},n.current);delete p[u],n.current=p,Hr(e,"removeNode",{id:u})},[e]),s=h.useCallback(u=>{if(u==null)return!1;let p=e.getNode(u);if(!p)return!1;if(p.disabled)return!0;for(;p.parentId!=null;)if(p=e.getNode(p.parentId),p.disabled)return!0;return!1},[e]),i=ce(u=>Object.values(n.current).filter(p=>p.parentId===u).sort((p,d)=>p.index-d.index).map(p=>p.id));se(e,{getNode:r,updateNode:o,removeNode:l,getChildrenIds:i,getNavigableChildrenIds:u=>{let p=e.getChildrenIds(u);return t.disabledItemsFocusable||(p=p.filter(d=>!e.isNodeDisabled(d))),p},isNodeDisabled:s})},Ye=({instance:e,params:t,models:n})=>{const r=h.useCallback(i=>Array.isArray(n.expanded.value)?n.expanded.value.indexOf(i)!==-1:!1,[n.expanded.value]),o=h.useCallback(i=>{var c;return!!((c=e.getNode(i))!=null&&c.expandable)},[e]),l=ce((i,c)=>{if(c==null)return;let u;n.expanded.value.indexOf(c)!==-1?u=n.expanded.value.filter(p=>p!==c):u=[c].concat(n.expanded.value),t.onNodeToggle&&t.onNodeToggle(i,u),n.expanded.setValue(u)});se(e,{isNodeExpanded:r,isNodeExpandable:o,toggleNodeExpansion:l,expandAllSiblings:(i,c)=>{const u=e.getNode(c),d=e.getChildrenIds(u.parentId).filter(v=>e.isNodeExpandable(v)&&!e.isNodeExpanded(v)),y=n.expanded.value.concat(d);d.length>0&&(n.expanded.setValue(y),t.onNodeToggle&&t.onNodeToggle(i,y))}})};Ye.models={expanded:{controlledProp:"expanded",defaultProp:"defaultExpanded"}};const Xr=[];Ye.getDefaultizedParams=e=>{var t;return R({},e,{defaultExpanded:(t=e.defaultExpanded)!=null?t:Xr})};const Jr=(e,t,n)=>{if(t===n)return[t,n];const r=e.getNode(t),o=e.getNode(n);if(r.parentId===o.id||o.parentId===r.id)return o.parentId===r.id?[r.id,o.id]:[o.id,r.id];const l=[r.id],s=[o.id];let i=r.parentId,c=o.parentId,u=s.indexOf(i)!==-1,p=l.indexOf(c)!==-1,d=!0,y=!0;for(;!p&&!u;)d&&(l.push(i),u=s.indexOf(i)!==-1,d=i!==null,!u&&d&&(i=e.getNode(i).parentId)),y&&!u&&(s.push(c),p=l.indexOf(c)!==-1,y=c!==null,!p&&y&&(c=e.getNode(c).parentId));const v=u?i:c,a=e.getChildrenIds(v),g=l[l.indexOf(v)-1],m=s[s.indexOf(v)-1];return a.indexOf(g)<a.indexOf(m)?[t,n]:[n,t]},Ze=({instance:e,params:t,models:n})=>{const r=h.useRef(null),o=h.useRef(!1),l=h.useRef([]),s=a=>Array.isArray(n.selected.value)?n.selected.value.indexOf(a)!==-1:n.selected.value===a,i=(a,g,m=!1)=>{if(!t.disableSelection){if(m){if(Array.isArray(n.selected.value)){let x;n.selected.value.indexOf(g)!==-1?x=n.selected.value.filter(w=>w!==g):x=[g].concat(n.selected.value),t.onNodeSelect&&t.onNodeSelect(a,x),n.selected.setValue(x)}}else{const x=t.multiSelect?[g]:g;t.onNodeSelect&&t.onNodeSelect(a,x),n.selected.setValue(x)}r.current=g,o.current=!1,l.current=[]}},c=(a,g)=>{const[m,x]=Jr(e,a,g),w=[m];let E=m;for(;E!==x;)E=ue(e,E),w.push(E);return w},u=(a,g)=>{let m=n.selected.value.slice();const{start:x,next:w,current:E}=g;!w||!E||(l.current.indexOf(E)===-1&&(l.current=[]),o.current?l.current.indexOf(w)!==-1?(m=m.filter(b=>b===x||b!==E),l.current=l.current.filter(b=>b===x||b!==E)):(m.push(w),l.current.push(w)):(m.push(w),l.current.push(E,w)),t.onNodeSelect&&t.onNodeSelect(a,m),n.selected.setValue(m))},p=(a,g)=>{let m=n.selected.value.slice();const{start:x,end:w}=g;o.current&&(m=m.filter(C=>l.current.indexOf(C)===-1));let E=c(x,w);E=E.filter(C=>!e.isNodeDisabled(C)),l.current=E;let b=m.concat(E);b=b.filter((C,M)=>b.indexOf(C)===M),t.onNodeSelect&&t.onNodeSelect(a,b),n.selected.setValue(b)};return se(e,{isNodeSelected:s,selectNode:i,selectRange:(a,g,m=!1)=>{if(t.disableSelection)return;const{start:x=r.current,end:w,current:E}=g;m?u(a,{start:x,next:w,current:E}):x!=null&&w!=null&&p(a,{start:x,end:w}),o.current=!0},rangeSelectToLast:(a,g)=>{r.current||(r.current=g);const m=o.current?r.current:g;e.selectRange(a,{start:m,end:We(e)})},rangeSelectToFirst:(a,g)=>{r.current||(r.current=g);const m=o.current?r.current:g;e.selectRange(a,{start:m,end:Ke(e)})}}),{getRootProps:()=>({"aria-multiselectable":t.multiSelect})}};Ze.models={selected:{controlledProp:"selected",defaultProp:"defaultSelected"}};const Yr=[];Ze.getDefaultizedParams=e=>{var t,n,r;return R({},e,{disableSelection:(t=e.disableSelection)!=null?t:!1,multiSelect:(n=e.multiSelect)!=null?n:!1,defaultSelected:(r=e.defaultSelected)!=null?r:e.multiSelect?Yr:null})};const St=1e3;class Zr{constructor(t=St){this.timeouts=new Map,this.cleanupTimeout=St,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const o=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,o)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class eo{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class to{}function no(e){let t=0;return function(r,o,l){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new eo:new Zr);const[s]=h.useState(new to),i=h.useRef(null),c=h.useRef();c.current=l;const u=h.useRef(null);if(!i.current&&c.current){const p=(d,y)=>{if(!y.defaultMuiPrevented){var v;(v=c.current)==null||v.call(c,d,y)}};i.current=r.$$subscribeEvent(o,p),t+=1,u.current={cleanupToken:t},e.registry.register(s,()=>{var d;(d=i.current)==null||d.call(i),i.current=null,u.current=null},u.current)}else!c.current&&i.current&&(i.current(),i.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));h.useEffect(()=>{if(!i.current&&c.current){const p=(d,y)=>{if(!y.defaultMuiPrevented){var v;(v=c.current)==null||v.call(c,d,y)}};i.current=r.$$subscribeEvent(o,p)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{var p;(p=i.current)==null||p.call(i),i.current=null}},[r,o])}}const ro={registry:null},oo=no(ro),et=({instance:e,params:t,state:n,setState:r,models:o,rootRef:l})=>{const s=ce(v=>{const a=typeof v=="function"?v(n.focusedNodeId):v;r(g=>R({},g,{focusedNodeId:a}))}),i=h.useCallback(v=>n.focusedNodeId===v,[n.focusedNodeId]),c=ce((v,a)=>{a&&(s(a),t.onNodeFocus&&t.onNodeFocus(v,a))});se(e,{isNodeFocused:i,focusNode:c}),oo(e,"removeNode",({id:v})=>{s(a=>a===v&&l.current===Ut(l.current).activeElement?e.getChildrenIds(null)[0]:a)});const u=v=>a=>{var g;if((g=v.onFocus)==null||g.call(v,a),a.target===a.currentTarget){const m=w=>{const E=e.getNode(w);return E&&(E.parentId==null||e.isNodeExpanded(E.parentId))};let x;Array.isArray(o.selected.value)?x=o.selected.value.find(m):o.selected.value!=null&&m(o.selected.value)&&(x=o.selected.value),x==null&&(x=e.getNavigableChildrenIds(null)[0]),e.focusNode(a,x)}},p=v=>a=>{var g;(g=v.onBlur)==null||g.call(v,a),s(null)},d=e.getNode(n.focusedNodeId),y=d?d.idAttribute:null;return{getRootProps:v=>({onFocus:u(v),onBlur:p(v),"aria-activedescendant":y??void 0})}};et.getInitialState=()=>({focusedNodeId:null});et.getDefaultizedParams=e=>{var t;return R({},e,{disabledItemsFocusable:(t=e.disabledItemsFocusable)!=null?t:!1})};function lo(e){return e&&e.length===1&&e.match(/\S/)}function It(e,t,n){for(let r=t;r<e.length;r+=1)if(n===e[r])return r;return-1}const so=({instance:e,params:t,state:n})=>{const o=nr().direction==="rtl",l=h.useRef({}),s=ce((v,a)=>(l.current[v]=a,()=>{const g=R({},l.current);delete g[v],l.current=g}));se(e,{mapFirstChar:s});const i=v=>(n.focusedNodeId!=null&&e.isNodeExpandable(n.focusedNodeId)&&(e.isNodeExpanded(n.focusedNodeId)?e.focusNode(v,ue(e,n.focusedNodeId)):e.isNodeDisabled(n.focusedNodeId)||e.toggleNodeExpansion(v,n.focusedNodeId)),!0),c=v=>{if(n.focusedNodeId==null)return!1;if(e.isNodeExpanded(n.focusedNodeId)&&!e.isNodeDisabled(n.focusedNodeId))return e.toggleNodeExpansion(v,n.focusedNodeId),!0;const a=e.getNode(n.focusedNodeId).parentId;return a?(e.focusNode(v,a),!0):!1},u=(v,a,g)=>{let m,x;const w=g.toLowerCase(),E=[],b=[];Object.keys(l.current).forEach(C=>{const M=e.getNode(C),T=M.parentId?e.isNodeExpanded(M.parentId):!0,k=t.disabledItemsFocusable?!1:e.isNodeDisabled(C);T&&!k&&(E.push(C),b.push(l.current[C]))}),m=E.indexOf(a)+1,m>=E.length&&(m=0),x=It(b,m,w),x===-1&&(x=It(b,0,w)),x>-1&&e.focusNode(v,E[x])},p=(v,a)=>{e.isNodeDisabled(ue(e,a))||e.selectRange(v,{end:ue(e,a),current:a},!0)},d=(v,a)=>{e.isNodeDisabled(Le(e,a))||e.selectRange(v,{end:Le(e,a),current:a},!0)},y=v=>a=>{var g;(g=v.onKeyDown)==null||g.call(v,a);let m=!1;const x=a.key;if(a.altKey||a.currentTarget!==a.target||n.focusedNodeId==null)return;const w=a.ctrlKey||a.metaKey;switch(x){case" ":!t.disableSelection&&!e.isNodeDisabled(n.focusedNodeId)&&(m=!0,t.multiSelect&&a.shiftKey?e.selectRange(a,{end:n.focusedNodeId}):t.multiSelect?e.selectNode(a,n.focusedNodeId,!0):e.selectNode(a,n.focusedNodeId)),a.stopPropagation();break;case"Enter":e.isNodeDisabled(n.focusedNodeId)||(e.isNodeExpandable(n.focusedNodeId)?(e.toggleNodeExpansion(a,n.focusedNodeId),m=!0):t.disableSelection||(m=!0,t.multiSelect?e.selectNode(a,n.focusedNodeId,!0):e.selectNode(a,n.focusedNodeId))),a.stopPropagation();break;case"ArrowDown":t.multiSelect&&a.shiftKey&&!t.disableSelection&&p(a,n.focusedNodeId),e.focusNode(a,ue(e,n.focusedNodeId)),m=!0;break;case"ArrowUp":t.multiSelect&&a.shiftKey&&!t.disableSelection&&d(a,n.focusedNodeId),e.focusNode(a,Le(e,n.focusedNodeId)),m=!0;break;case"ArrowRight":o?m=c(a):m=i(a);break;case"ArrowLeft":o?m=i(a):m=c(a);break;case"Home":t.multiSelect&&w&&a.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(n.focusedNodeId)&&e.rangeSelectToFirst(a,n.focusedNodeId),e.focusNode(a,Ke(e)),m=!0;break;case"End":t.multiSelect&&w&&a.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(n.focusedNodeId)&&e.rangeSelectToLast(a,n.focusedNodeId),e.focusNode(a,We(e)),m=!0;break;default:x==="*"?(e.expandAllSiblings(a,n.focusedNodeId),m=!0):t.multiSelect&&w&&x.toLowerCase()==="a"&&!t.disableSelection?(e.selectRange(a,{start:Ke(e),end:We(e)}),m=!0):!w&&!a.shiftKey&&lo(x)&&(u(a,n.focusedNodeId,x),m=!0)}m&&(a.preventDefault(),a.stopPropagation())};return{getRootProps:v=>({onKeyDown:y(v)})}},io=({instance:e,params:t})=>{const n=rr(t.id);return{getRootProps:()=>({id:n}),contextValue:{treeId:n,instance:e,multiSelect:t.multiSelect,disabledItemsFocusable:t.disabledItemsFocusable,icons:{defaultCollapseIcon:t.defaultCollapseIcon,defaultEndIcon:t.defaultEndIcon,defaultExpandIcon:t.defaultExpandIcon,defaultParentIcon:t.defaultParentIcon}}}},ao=[Qr,Ye,Ze,et,so,io],uo=["disabledItemsFocusable","expanded","defaultExpanded","onNodeToggle","onNodeFocus","disableSelection","defaultSelected","selected","multiSelect","onNodeSelect","id","defaultCollapseIcon","defaultEndIcon","defaultExpandIcon","defaultParentIcon","children"],co=e=>{const{classes:t}=e;return Wt({root:["root"]},Mr,t)},Ct=_e("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0}),fo=h.forwardRef(function(t,n){const r=zt({props:t,name:"MuiTreeView"}),o=r,l=r,{disabledItemsFocusable:s,expanded:i,defaultExpanded:c,onNodeToggle:u,onNodeFocus:p,disableSelection:d,defaultSelected:y,selected:v,multiSelect:a,onNodeSelect:g,id:m,defaultCollapseIcon:x,defaultEndIcon:w,defaultExpandIcon:E,defaultParentIcon:b,children:C}=l,M=be(l,uo),{getRootProps:T,contextValue:k}=Ur({disabledItemsFocusable:s,expanded:i,defaultExpanded:c,onNodeToggle:u,onNodeFocus:p,disableSelection:d,defaultSelected:y,selected:v,multiSelect:a,onNodeSelect:g,id:m,defaultCollapseIcon:x,defaultEndIcon:w,defaultExpandIcon:E,defaultParentIcon:b,plugins:ao,rootRef:n}),_=co(r),z=or({elementType:Ct,externalSlotProps:{},externalForwardedProps:M,className:_.root,getSlotProps:T,ownerState:o});return f.jsx(Gr,{value:k,children:f.jsx(Ct,R({},z,{children:C}))})}),tn=()=>h.useContext(Yt);function po(e){const{instance:t,multiSelect:n}=tn(),r=t?t.isNodeExpandable(e):!1,o=t?t.isNodeExpanded(e):!1,l=t?t.isNodeFocused(e):!1,s=t?t.isNodeSelected(e):!1,i=t?t.isNodeDisabled(e):!1;return{disabled:i,expanded:o,selected:s,focused:l,handleExpansion:d=>{if(t&&!i){l||t.focusNode(d,e);const y=n&&(d.shiftKey||d.ctrlKey||d.metaKey);r&&!(y&&t.isNodeExpanded(e))&&t.toggleNodeExpansion(d,e)}},handleSelection:d=>{t&&!i&&(l||t.focusNode(d,e),n&&(d.shiftKey||d.ctrlKey||d.metaKey)?d.shiftKey?t.selectRange(d,{end:e}):t.selectNode(d,e,!0):t.selectNode(d,e))},preventSelection:d=>{(d.shiftKey||d.ctrlKey||d.metaKey||i)&&d.preventDefault()}}}const ho=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],nn=h.forwardRef(function(t,n){const{classes:r,className:o,displayIcon:l,expansionIcon:s,icon:i,label:c,nodeId:u,onClick:p,onMouseDown:d}=t,y=be(t,ho),{disabled:v,expanded:a,selected:g,focused:m,handleExpansion:x,handleSelection:w,preventSelection:E}=po(u),b=i||s||l,C=T=>{E(T),d&&d(T)},M=T=>{x(T),w(T),p&&p(T)};return f.jsxs("div",R({},y,{className:Kt(o,r.root,a&&r.expanded,g&&r.selected,m&&r.focused,v&&r.disabled),onClick:M,onMouseDown:C,ref:n,children:[f.jsx("div",{className:r.iconContainer,children:b}),f.jsx("div",{className:r.label,children:c})]}))});function go(e){return Lt("MuiTreeItem",e)}const X=Vt("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]),vo=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],mo=e=>{const{classes:t}=e;return Wt({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},go,t)},xo=_e("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),yo=_e(nn,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${X.iconContainer}`]:t.iconContainer},t.label&&{[`& .${X.label}`]:t.label}]})(({theme:e})=>({padding:"0 8px",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${X.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${X.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${X.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ye(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ye(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ye(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${X.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ye(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${X.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${X.label}`]:R({paddingLeft:4,width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),No=_e(jt,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,t)=>t.group})({margin:0,padding:0,marginLeft:17}),bt=h.forwardRef(function(t,n){const r=zt({props:t,name:"MuiTreeItem"}),{children:o,className:l,collapseIcon:s,ContentComponent:i=nn,ContentProps:c,endIcon:u,expandIcon:p,disabled:d,icon:y,id:v,label:a,nodeId:g,onClick:m,onMouseDown:x,TransitionComponent:w=jt,TransitionProps:E}=r,b=be(r,vo),{icons:C,multiSelect:M,disabledItemsFocusable:T,treeId:k,instance:_}=tn();let z;v!=null?z=v:k&&g&&(z=`${k}-${g}`);const[N,B]=h.useState(null),K=h.useRef(null),Q=Bt(B,n),Re=h.useMemo(()=>({element:N,id:g}),[g,N]),{index:S,parentId:P}=qr(Re),F=!!(Array.isArray(o)?o.length:o),j=_?_.isNodeExpanded(g):!1,mt=_?_.isNodeFocused(g):!1,Ae=_?_.isNodeSelected(g):!1,Oe=_?_.isNodeDisabled(g):!1,ke=R({},r,{expanded:j,focused:mt,selected:Ae,disabled:Oe}),q=mo(ke);let De,Me;F&&(j?Me=s||C.defaultCollapseIcon:Me=p||C.defaultExpandIcon),F?De=C.defaultParentIcon:De=u||C.defaultEndIcon,h.useEffect(()=>{if(_&&S!==-1)return _.updateNode({id:g,idAttribute:z,index:S,parentId:P,expandable:F,disabled:d}),()=>_.removeNode(g)},[_,P,S,g,F,d,z]),h.useEffect(()=>{if(_&&a){var W,xe;return _.mapFirstChar(g,((W=(xe=K.current)==null?void 0:xe.textContent)!=null?W:"").substring(0,1).toLowerCase())}},[_,g,a]);let Fe;M?Fe=Ae:Ae&&(Fe=!0);function er(W){if(W.target===W.currentTarget){let $e;typeof W.target.getRootNode=="function"?$e=W.target.getRootNode():$e=Ut(W.target),$e.getElementById(k).focus({preventScroll:!0})}const xe=!T&&Oe;_&&!mt&&W.currentTarget===W.target&&!xe&&_.focusNode(W,g)}return f.jsxs(xo,R({className:Kt(q.root,l),role:"treeitem","aria-expanded":F?j:void 0,"aria-selected":Fe,"aria-disabled":Oe||void 0,id:z,tabIndex:-1},b,{ownerState:ke,onFocus:er,ref:Q,children:[f.jsx(yo,R({as:i,ref:K,classes:{root:q.content,expanded:q.expanded,selected:q.selected,focused:q.focused,disabled:q.disabled,iconContainer:q.iconContainer,label:q.label},label:a,nodeId:g,onClick:m,onMouseDown:x,icon:y,expansionIcon:Me,displayIcon:De,ownerState:ke},c)),o&&f.jsx(en,{id:g,children:f.jsx(No,R({as:w,unmountOnExit:!0,className:q.group,in:j,component:"ul",role:"group"},E,{children:o}))})]}))});var rn="1.13.6",_t=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Te=Array.prototype,tt=Object.prototype,Tt=typeof Symbol<"u"?Symbol.prototype:null,wo=Te.push,he=Te.slice,de=tt.toString,Eo=tt.hasOwnProperty,on=typeof ArrayBuffer<"u",So=typeof DataView<"u",Io=Array.isArray,Pt=Object.keys,Rt=Object.create,At=on&&ArrayBuffer.isView,Co=isNaN,bo=isFinite,ln=!{toString:null}.propertyIsEnumerable("toString"),Ot=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_o=Math.pow(2,53)-1;function $(e,t){return t=t==null?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var l=Array(t+1);for(o=0;o<t;o++)l[o]=arguments[o];return l[t]=r,e.apply(this,l)}}function te(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function To(e){return e===null}function sn(e){return e===void 0}function an(e){return e===!0||e===!1||de.call(e)==="[object Boolean]"}function Po(e){return!!(e&&e.nodeType===1)}function O(e){var t="[object "+e+"]";return function(n){return de.call(n)===t}}const nt=O("String"),un=O("Number"),Ro=O("Date"),Ao=O("RegExp"),Oo=O("Error"),cn=O("Symbol"),dn=O("ArrayBuffer");var fn=O("Function"),ko=_t.document&&_t.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof ko!="function"&&(fn=function(e){return typeof e=="function"||!1});const D=fn,pn=O("Object");var hn=So&&pn(new DataView(new ArrayBuffer(8))),rt=typeof Map<"u"&&pn(new Map),Do=O("DataView");function Mo(e){return e!=null&&D(e.getInt8)&&dn(e.buffer)}const Ee=hn?Mo:Do,ne=Io||O("Array");function J(e,t){return e!=null&&Eo.call(e,t)}var je=O("Arguments");(function(){je(arguments)||(je=function(e){return J(e,"callee")})})();const ot=je;function Fo(e){return!cn(e)&&bo(e)&&!isNaN(parseFloat(e))}function gn(e){return un(e)&&Co(e)}function vn(e){return function(){return e}}function mn(e){return function(t){var n=e(t);return typeof n=="number"&&n>=0&&n<=_o}}function xn(e){return function(t){return t==null?void 0:t[e]}}const Se=xn("byteLength"),$o=mn(Se);var Lo=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Vo(e){return At?At(e)&&!Ee(e):$o(e)&&Lo.test(de.call(e))}const yn=on?Vo:vn(!1),L=xn("length");function Bo(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(o){return t[o]===!0},push:function(o){return t[o]=!0,e.push(o)}}}function Nn(e,t){t=Bo(t);var n=Ot.length,r=e.constructor,o=D(r)&&r.prototype||tt,l="constructor";for(J(e,l)&&!t.contains(l)&&t.push(l);n--;)l=Ot[n],l in e&&e[l]!==o[l]&&!t.contains(l)&&t.push(l)}function A(e){if(!te(e))return[];if(Pt)return Pt(e);var t=[];for(var n in e)J(e,n)&&t.push(n);return ln&&Nn(e,t),t}function Uo(e){if(e==null)return!0;var t=L(e);return typeof t=="number"&&(ne(e)||nt(e)||ot(e))?t===0:L(A(e))===0}function wn(e,t){var n=A(t),r=n.length;if(e==null)return!r;for(var o=Object(e),l=0;l<r;l++){var s=n[l];if(t[s]!==o[s]||!(s in o))return!1}return!0}function I(e){if(e instanceof I)return e;if(!(this instanceof I))return new I(e);this._wrapped=e}I.VERSION=rn;I.prototype.value=function(){return this._wrapped};I.prototype.valueOf=I.prototype.toJSON=I.prototype.value;I.prototype.toString=function(){return String(this._wrapped)};function kt(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Se(e))}var Dt="[object DataView]";function qe(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;return o!=="function"&&o!=="object"&&typeof t!="object"?!1:En(e,t,n,r)}function En(e,t,n,r){e instanceof I&&(e=e._wrapped),t instanceof I&&(t=t._wrapped);var o=de.call(e);if(o!==de.call(t))return!1;if(hn&&o=="[object Object]"&&Ee(e)){if(!Ee(t))return!1;o=Dt}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return Tt.valueOf.call(e)===Tt.valueOf.call(t);case"[object ArrayBuffer]":case Dt:return En(kt(e),kt(t),n,r)}var l=o==="[object Array]";if(!l&&yn(e)){var s=Se(e);if(s!==Se(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;l=!0}if(!l){if(typeof e!="object"||typeof t!="object")return!1;var i=e.constructor,c=t.constructor;if(i!==c&&!(D(i)&&i instanceof i&&D(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),l){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!qe(e[u],t[u],n,r))return!1}else{var p=A(e),d;if(u=p.length,A(t).length!==u)return!1;for(;u--;)if(d=p[u],!(J(t,d)&&qe(e[d],t[d],n,r)))return!1}return n.pop(),r.pop(),!0}function zo(e,t){return qe(e,t)}function ge(e){if(!te(e))return[];var t=[];for(var n in e)t.push(n);return ln&&Nn(e,t),t}function lt(e){var t=L(e);return function(n){if(n==null)return!1;var r=ge(n);if(L(r))return!1;for(var o=0;o<t;o++)if(!D(n[e[o]]))return!1;return e!==Cn||!D(n[st])}}var st="forEach",Sn="has",it=["clear","delete"],In=["get",Sn,"set"],Wo=it.concat(st,In),Cn=it.concat(In),Ko=["add"].concat(it,st,Sn);const jo=rt?lt(Wo):O("Map"),qo=rt?lt(Cn):O("WeakMap"),Go=rt?lt(Ko):O("Set"),Ho=O("WeakSet");function ie(e){for(var t=A(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r}function Qo(e){for(var t=A(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r}function bn(e){for(var t={},n=A(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t}function Ge(e){var t=[];for(var n in e)D(e[n])&&t.push(n);return t.sort()}function at(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||n==null)return n;for(var o=1;o<r;o++)for(var l=arguments[o],s=e(l),i=s.length,c=0;c<i;c++){var u=s[c];(!t||n[u]===void 0)&&(n[u]=l[u])}return n}}const _n=at(ge),Ie=at(A),Tn=at(ge,!0);function Xo(){return function(){}}function Pn(e){if(!te(e))return{};if(Rt)return Rt(e);var t=Xo();t.prototype=e;var n=new t;return t.prototype=null,n}function Jo(e,t){var n=Pn(e);return t&&Ie(n,t),n}function Yo(e){return te(e)?ne(e)?e.slice():_n({},e):e}function Zo(e,t){return t(e),e}function Rn(e){return ne(e)?e:[e]}I.toPath=Rn;function ve(e){return I.toPath(e)}function ut(e,t){for(var n=t.length,r=0;r<n;r++){if(e==null)return;e=e[t[r]]}return n?e:void 0}function An(e,t,n){var r=ut(e,ve(t));return sn(r)?n:r}function el(e,t){t=ve(t);for(var n=t.length,r=0;r<n;r++){var o=t[r];if(!J(e,o))return!1;e=e[o]}return!!n}function ct(e){return e}function fe(e){return e=Ie({},e),function(t){return wn(t,e)}}function dt(e){return e=ve(e),function(t){return ut(t,e)}}function me(e,t,n){if(t===void 0)return e;switch(n??3){case 1:return function(r){return e.call(t,r)};case 3:return function(r,o,l){return e.call(t,r,o,l)};case 4:return function(r,o,l,s){return e.call(t,r,o,l,s)}}return function(){return e.apply(t,arguments)}}function On(e,t,n){return e==null?ct:D(e)?me(e,t,n):te(e)&&!ne(e)?fe(e):dt(e)}function ft(e,t){return On(e,t,1/0)}I.iteratee=ft;function V(e,t,n){return I.iteratee!==ft?I.iteratee(e,t):On(e,t,n)}function tl(e,t,n){t=V(t,n);for(var r=A(e),o=r.length,l={},s=0;s<o;s++){var i=r[s];l[i]=t(e[i],i,e)}return l}function kn(){}function nl(e){return e==null?kn:function(t){return An(e,t)}}function rl(e,t,n){var r=Array(Math.max(0,e));t=me(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r}function He(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const pe=Date.now||function(){return new Date().getTime()};function Dn(e){var t=function(l){return e[l]},n="(?:"+A(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(l){return l=l==null?"":""+l,r.test(l)?l.replace(o,t):l}}const Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ol=Dn(Mn),ll=bn(Mn),sl=Dn(ll),il=I.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Ve=/(.)^/,al={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ul=/\\|'|\r|\n|\u2028|\u2029/g;function cl(e){return"\\"+al[e]}var dl=/^\s*(\w|\$)+\s*$/;function fl(e,t,n){!t&&n&&(t=n),t=Tn({},t,I.templateSettings);var r=RegExp([(t.escape||Ve).source,(t.interpolate||Ve).source,(t.evaluate||Ve).source].join("|")+"|$","g"),o=0,l="__p+='";e.replace(r,function(u,p,d,y,v){return l+=e.slice(o,v).replace(ul,cl),o=v+u.length,p?l+=`'+
((__t=(`+p+`))==null?'':_.escape(__t))+
'`:d?l+=`'+
((__t=(`+d+`))==null?'':__t)+
'`:y&&(l+=`';
`+y+`
__p+='`),u}),l+=`';
`;var s=t.variable;if(s){if(!dl.test(s))throw new Error("variable is not a bare identifier: "+s)}else l=`with(obj||{}){
`+l+`}
`,s="obj";l=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+l+`return __p;
`;var i;try{i=new Function(s,"_",l)}catch(u){throw u.source=l,u}var c=function(u){return i.call(this,u,I)};return c.source="function("+s+`){
`+l+"}",c}function pl(e,t,n){t=ve(t);var r=t.length;if(!r)return D(n)?n.call(e):n;for(var o=0;o<r;o++){var l=e==null?void 0:e[t[o]];l===void 0&&(l=n,o=r),e=D(l)?l.call(e):l}return e}var hl=0;function gl(e){var t=++hl+"";return e?e+t:t}function vl(e){var t=I(e);return t._chain=!0,t}function Fn(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var l=Pn(e.prototype),s=e.apply(l,o);return te(s)?s:l}var ae=$(function(e,t){var n=ae.placeholder,r=function(){for(var o=0,l=t.length,s=Array(l),i=0;i<l;i++)s[i]=t[i]===n?arguments[o++]:t[i];for(;o<arguments.length;)s.push(arguments[o++]);return Fn(e,r,this,this,s)};return r});ae.placeholder=I;const $n=$(function(e,t,n){if(!D(e))throw new TypeError("Bind must be called on a function");var r=$(function(o){return Fn(e,r,t,this,n.concat(o))});return r}),U=mn(L);function re(e,t,n,r){if(r=r||[],!t&&t!==0)t=1/0;else if(t<=0)return r.concat(e);for(var o=r.length,l=0,s=L(e);l<s;l++){var i=e[l];if(U(i)&&(ne(i)||ot(i)))if(t>1)re(i,t-1,n,r),o=r.length;else for(var c=0,u=i.length;c<u;)r[o++]=i[c++];else n||(r[o++]=i)}return r}const ml=$(function(e,t){t=re(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=$n(e[r],e)}return e});function xl(e,t){var n=function(r){var o=n.cache,l=""+(t?t.apply(this,arguments):r);return J(o,l)||(o[l]=e.apply(this,arguments)),o[l]};return n.cache={},n}const Ln=$(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),yl=ae(Ln,I,1);function Nl(e,t,n){var r,o,l,s,i=0;n||(n={});var c=function(){i=n.leading===!1?0:pe(),r=null,s=e.apply(o,l),r||(o=l=null)},u=function(){var p=pe();!i&&n.leading===!1&&(i=p);var d=t-(p-i);return o=this,l=arguments,d<=0||d>t?(r&&(clearTimeout(r),r=null),i=p,s=e.apply(o,l),r||(o=l=null)):!r&&n.trailing!==!1&&(r=setTimeout(c,d)),s};return u.cancel=function(){clearTimeout(r),i=0,r=o=l=null},u}function wl(e,t,n){var r,o,l,s,i,c=function(){var p=pe()-o;t>p?r=setTimeout(c,t-p):(r=null,n||(s=e.apply(i,l)),r||(l=i=null))},u=$(function(p){return i=this,l=p,o=pe(),r||(r=setTimeout(c,t),n&&(s=e.apply(i,l))),s});return u.cancel=function(){clearTimeout(r),r=l=i=null},u}function El(e,t){return ae(t,e)}function pt(e){return function(){return!e.apply(this,arguments)}}function Sl(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function Il(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Vn(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Cl=ae(Vn,2);function Bn(e,t,n){t=V(t,n);for(var r=A(e),o,l=0,s=r.length;l<s;l++)if(o=r[l],t(e[o],o,e))return o}function Un(e){return function(t,n,r){n=V(n,r);for(var o=L(t),l=e>0?0:o-1;l>=0&&l<o;l+=e)if(n(t[l],l,t))return l;return-1}}const ht=Un(1),zn=Un(-1);function Wn(e,t,n,r){n=V(n,r,1);for(var o=n(t),l=0,s=L(e);l<s;){var i=Math.floor((l+s)/2);n(e[i])<o?l=i+1:s=i}return l}function Kn(e,t,n){return function(r,o,l){var s=0,i=L(r);if(typeof l=="number")e>0?s=l>=0?l:Math.max(l+i,s):i=l>=0?Math.min(l+1,i):l+i+1;else if(n&&l&&i)return l=n(r,o),r[l]===o?l:-1;if(o!==o)return l=t(he.call(r,s,i),gn),l>=0?l+s:-1;for(l=e>0?s:i-1;l>=0&&l<i;l+=e)if(r[l]===o)return l;return-1}}const jn=Kn(1,ht,Wn),bl=Kn(-1,zn);function Qe(e,t,n){var r=U(e)?ht:Bn,o=r(e,t,n);if(o!==void 0&&o!==-1)return e[o]}function _l(e,t){return Qe(e,fe(t))}function H(e,t,n){t=me(t,n);var r,o;if(U(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var l=A(e);for(r=0,o=l.length;r<o;r++)t(e[l[r]],l[r],e)}return e}function ee(e,t,n){t=V(t,n);for(var r=!U(e)&&A(e),o=(r||e).length,l=Array(o),s=0;s<o;s++){var i=r?r[s]:s;l[s]=t(e[i],i,e)}return l}function qn(e){var t=function(n,r,o,l){var s=!U(n)&&A(n),i=(s||n).length,c=e>0?0:i-1;for(l||(o=n[s?s[c]:c],c+=e);c>=0&&c<i;c+=e){var u=s?s[c]:c;o=r(o,n[u],u,n)}return o};return function(n,r,o,l){var s=arguments.length>=3;return t(n,me(r,l,4),o,s)}}const Be=qn(1),Mt=qn(-1);function le(e,t,n){var r=[];return t=V(t,n),H(e,function(o,l,s){t(o,l,s)&&r.push(o)}),r}function Tl(e,t,n){return le(e,pt(V(t)),n)}function Ft(e,t,n){t=V(t,n);for(var r=!U(e)&&A(e),o=(r||e).length,l=0;l<o;l++){var s=r?r[l]:l;if(!t(e[s],s,e))return!1}return!0}function $t(e,t,n){t=V(t,n);for(var r=!U(e)&&A(e),o=(r||e).length,l=0;l<o;l++){var s=r?r[l]:l;if(t(e[s],s,e))return!0}return!1}function G(e,t,n,r){return U(e)||(e=ie(e)),(typeof n!="number"||r)&&(n=0),jn(e,t,n)>=0}const Pl=$(function(e,t,n){var r,o;return D(t)?o=t:(t=ve(t),r=t.slice(0,-1),t=t[t.length-1]),ee(e,function(l){var s=o;if(!s){if(r&&r.length&&(l=ut(l,r)),l==null)return;s=l[t]}return s==null?s:s.apply(l,n)})});function gt(e,t){return ee(e,dt(t))}function Rl(e,t){return le(e,fe(t))}function Gn(e,t,n){var r=-1/0,o=-1/0,l,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=U(e)?e:ie(e);for(var i=0,c=e.length;i<c;i++)l=e[i],l!=null&&l>r&&(r=l)}else t=V(t,n),H(e,function(u,p,d){s=t(u,p,d),(s>o||s===-1/0&&r===-1/0)&&(r=u,o=s)});return r}function Al(e,t,n){var r=1/0,o=1/0,l,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=U(e)?e:ie(e);for(var i=0,c=e.length;i<c;i++)l=e[i],l!=null&&l<r&&(r=l)}else t=V(t,n),H(e,function(u,p,d){s=t(u,p,d),(s<o||s===1/0&&r===1/0)&&(r=u,o=s)});return r}var Ol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Hn(e){return e?ne(e)?he.call(e):nt(e)?e.match(Ol):U(e)?ee(e,ct):ie(e):[]}function Qn(e,t,n){if(t==null||n)return U(e)||(e=ie(e)),e[He(e.length-1)];var r=Hn(e),o=L(r);t=Math.max(Math.min(t,o),0);for(var l=o-1,s=0;s<t;s++){var i=He(s,l),c=r[s];r[s]=r[i],r[i]=c}return r.slice(0,t)}function kl(e){return Qn(e,1/0)}function Dl(e,t,n){var r=0;return t=V(t,n),gt(ee(e,function(o,l,s){return{value:o,index:r++,criteria:t(o,l,s)}}).sort(function(o,l){var s=o.criteria,i=l.criteria;if(s!==i){if(s>i||s===void 0)return 1;if(s<i||i===void 0)return-1}return o.index-l.index}),"value")}function Pe(e,t){return function(n,r,o){var l=t?[[],[]]:{};return r=V(r,o),H(n,function(s,i){var c=r(s,i,n);e(l,s,c)}),l}}const Ml=Pe(function(e,t,n){J(e,n)?e[n].push(t):e[n]=[t]}),Fl=Pe(function(e,t,n){e[n]=t}),$l=Pe(function(e,t,n){J(e,n)?e[n]++:e[n]=1}),Ll=Pe(function(e,t,n){e[n?0:1].push(t)},!0);function Vl(e){return e==null?0:U(e)?e.length:A(e).length}function Bl(e,t,n){return t in n}const Xn=$(function(e,t){var n={},r=t[0];if(e==null)return n;D(r)?(t.length>1&&(r=me(r,t[1])),t=ge(e)):(r=Bl,t=re(t,!1,!1),e=Object(e));for(var o=0,l=t.length;o<l;o++){var s=t[o],i=e[s];r(i,s,e)&&(n[s]=i)}return n}),Ul=$(function(e,t){var n=t[0],r;return D(n)?(n=pt(n),t.length>1&&(r=t[1])):(t=ee(re(t,!1,!1),String),n=function(o,l){return!G(t,l)}),Xn(e,n,r)});function Jn(e,t,n){return he.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))}function Ue(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[0]:Jn(e,e.length-t)}function we(e,t,n){return he.call(e,t==null||n?1:t)}function zl(e,t,n){return e==null||e.length<1?t==null||n?void 0:[]:t==null||n?e[e.length-1]:we(e,Math.max(0,e.length-t))}function Wl(e){return le(e,Boolean)}function Kl(e,t){return re(e,t,!1)}const Yn=$(function(e,t){return t=re(t,!0,!0),le(e,function(n){return!G(t,n)})}),jl=$(function(e,t){return Yn(e,t)});function Xe(e,t,n,r){an(t)||(r=n,n=t,t=!1),n!=null&&(n=V(n,r));for(var o=[],l=[],s=0,i=L(e);s<i;s++){var c=e[s],u=n?n(c,s,e):c;t&&!n?((!s||l!==u)&&o.push(c),l=u):n?G(l,u)||(l.push(u),o.push(c)):G(o,c)||o.push(c)}return o}const ql=$(function(e){return Xe(re(e,!0,!0))});function Gl(e){for(var t=[],n=arguments.length,r=0,o=L(e);r<o;r++){var l=e[r];if(!G(t,l)){var s;for(s=1;s<n&&G(arguments[s],l);s++);s===n&&t.push(l)}}return t}function Je(e){for(var t=e&&Gn(e,L).length||0,n=Array(t),r=0;r<t;r++)n[r]=gt(e,r);return n}const Hl=$(Je);function Ql(e,t){for(var n={},r=0,o=L(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Xl(e,t,n){t==null&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),l=0;l<r;l++,e+=n)o[l]=e;return o}function Jl(e,t){if(t==null||t<1)return[];for(var n=[],r=0,o=e.length;r<o;)n.push(he.call(e,r,r+=t));return n}function vt(e,t){return e._chain?I(t).chain():t}function Zn(e){return H(Ge(e),function(t){var n=I[t]=e[t];I.prototype[t]=function(){var r=[this._wrapped];return wo.apply(r,arguments),vt(this,n.apply(I,r))}}),I}H(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Te[e];I.prototype[e]=function(){var n=this._wrapped;return n!=null&&(t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0]),vt(this,n)}});H(["concat","join","slice"],function(e){var t=Te[e];I.prototype[e]=function(){var n=this._wrapped;return n!=null&&(n=t.apply(n,arguments)),vt(this,n)}});const Yl=Object.freeze(Object.defineProperty({__proto__:null,VERSION:rn,after:Il,all:Ft,allKeys:ge,any:$t,assign:Ie,before:Vn,bind:$n,bindAll:ml,chain:vl,chunk:Jl,clone:Yo,collect:ee,compact:Wl,compose:Sl,constant:vn,contains:G,countBy:$l,create:Jo,debounce:wl,default:I,defaults:Tn,defer:yl,delay:Ln,detect:Qe,difference:Yn,drop:we,each:H,escape:ol,every:Ft,extend:_n,extendOwn:Ie,filter:le,find:Qe,findIndex:ht,findKey:Bn,findLastIndex:zn,findWhere:_l,first:Ue,flatten:Kl,foldl:Be,foldr:Mt,forEach:H,functions:Ge,get:An,groupBy:Ml,has:el,head:Ue,identity:ct,include:G,includes:G,indexBy:Fl,indexOf:jn,initial:Jn,inject:Be,intersection:Gl,invert:bn,invoke:Pl,isArguments:ot,isArray:ne,isArrayBuffer:dn,isBoolean:an,isDataView:Ee,isDate:Ro,isElement:Po,isEmpty:Uo,isEqual:zo,isError:Oo,isFinite:Fo,isFunction:D,isMap:jo,isMatch:wn,isNaN:gn,isNull:To,isNumber:un,isObject:te,isRegExp:Ao,isSet:Go,isString:nt,isSymbol:cn,isTypedArray:yn,isUndefined:sn,isWeakMap:qo,isWeakSet:Ho,iteratee:ft,keys:A,last:zl,lastIndexOf:bl,map:ee,mapObject:tl,matcher:fe,matches:fe,max:Gn,memoize:xl,methods:Ge,min:Al,mixin:Zn,negate:pt,noop:kn,now:pe,object:Ql,omit:Ul,once:Cl,pairs:Qo,partial:ae,partition:Ll,pick:Xn,pluck:gt,property:dt,propertyOf:nl,random:He,range:Xl,reduce:Be,reduceRight:Mt,reject:Tl,rest:we,restArguments:$,result:pl,sample:Qn,select:le,shuffle:kl,size:Vl,some:$t,sortBy:Dl,sortedIndex:Wn,tail:we,take:Ue,tap:Zo,template:fl,templateSettings:il,throttle:Nl,times:rl,toArray:Hn,toPath:Rn,transpose:Je,unescape:sl,union:ql,uniq:Xe,unique:Xe,uniqueId:gl,unzip:Je,values:ie,where:Rl,without:jl,wrap:El,zip:Hl},Symbol.toStringTag,{value:"Module"}));var Ce=Zn(Yl);Ce._=Ce;const ze={type:"none",title:"",link:"null",content_id:null,order:null,blank:!1,parent_id:null},Zl=[{id:"none",title:"Nenhum"},{id:"link",title:"Link"},{id:"page",title:"Página"}];function es({open:e,id:t,onClose:n,onSave:r,newParentId:o,newOrder:l}){const{server:s}=qt(),{currentCommunity:i}=Gt(),c=Ht(),{enqueueSnackbar:u,closeSnackbar:p}=Qt(),[d,y]=h.useState(ze),[v,a]=h.useState(ze),[g,m]=h.useState(!1),[x,w]=h.useState({}),[E,b]=h.useState(!1),{data:C}=Xt(`menu_portal/${t}`,{enabled:!!t&&t!=="novo"}),M=Ne(N=>(N.communityId=i.id,N.id?oe.put(`${s}menu_portal/${N.id}`,N):oe.post(`${s}menu_portal`,N)),{onSuccess:()=>c.invalidateQueries("menu_tree")});h.useEffect(()=>{m(!1),w({});let N={...ze};t==="novo"&&(N.parent_id=o,N.order=l),y(N),a(N)},[t,o,l]),h.useEffect(()=>{C&&(y(C),a(C))},[C]);const T=N=>B=>{m(!0);let K={...d,[N]:B};console.log(`changing ${N}:`,B,K),y(K)},k=async()=>{var K;m(!1);let N=!1,B={};if(d.title||(B.title=!0,N=!0),d.type==="link"&&!((K=d.link)!=null&&K.length)&&(B.link=!0,N=!0),d.type==="page"&&!d.content_id&&(B.content_id=!0,N=!0),N){w(B);return}try{const Q=u("Gravando...",{persist:!0,anchorOrigin:{vertical:"top",horizontal:"right"}});await M.mutateAsync(d),p(Q),r(!Ce.isEqual(v,d))}catch(Q){console.error(Q)}},_=()=>{if(!Ce.isEqual(v,d)){b(!0);return}n()},z=N=>{b(!1),N==="confirm"&&n()};return f.jsxs("div",{children:[f.jsxs(lr,{id:"menu_item",className:"modal",open:e,maxWidth:"sm",scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[f.jsxs(sr,{id:"scroll-dialog-title",children:[!t||t==="novo"?"Adicionar":"Editar"," item de menu"]}),f.jsxs(ir,{dividers:!0,children:[f.jsxs("div",{className:"row",children:[f.jsx("div",{className:"col-md-5",children:f.jsx(xt,{fullWidth:!0,children:f.jsx(ar,{className:"input-select",value:d.type,onChange:N=>T("type")(N.target.value),children:Zl.map(N=>f.jsxs(ur,{value:N.id,children:[" ",N.title," "]},N.id))})})}),f.jsx("div",{className:"col-md-7",children:f.jsx(yt,{className:"input-text",label:"Título",placeholder:"10",shrink:"false",value:d.title,onChange:N=>T("title")(N.target.value),error:!g&&x.title})})]}),f.jsxs("div",{className:"row",children:[d.type==="link"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"col-md-9",children:f.jsx(yt,{className:"input-text",label:"Link",placeholder:"10",shrink:"false",value:d.link||"",onChange:N=>T("link")(N.target.value),error:!g&&x.link})}),f.jsx("div",{className:"col-md-3",children:f.jsx(xt,{fullWidth:!0,children:f.jsx(Nr,{control:f.jsx(xr,{checked:d.blank,onChange:(N,B)=>T("blank")(B)}),label:"Nova aba?"})})})]}),d.type==="page"&&f.jsx("div",{className:"col-md-12",children:f.jsx(yr,{label:"Conteúdos de página",url:"content/related",urlSingle:"content",titleField:"title",query:"?type=page",onChange:N=>T("content_id")(N),value:d.content_id,error:!g&&x.content_id})})]})]}),f.jsxs(cr,{children:[f.jsx(Nt,{onClick:()=>k(),children:"gravar"}),f.jsx(Nt,{onClick:()=>_(),children:"cancelar"})]})]}),f.jsx(dr,{open:E,content:"Você deseja sair sem gravar as alterações?",confirmButtonText:"Descartar alterações",onClose:z})]})}const ts="_controls_1rm30_1",ns={controls:ts};function hs(){const{server:e}=qt(),{changeRoute:t,params:n}=Gt(),r=Ht(),{enqueueSnackbar:o,closeSnackbar:l}=Qt(),[s,i]=h.useState(null),[c,u]=h.useState(null),[p,d]=h.useState(0),[y,v]=h.useState(null),[a,g]=h.useState(null),[m,x]=h.useState(!1),[w,E]=h.useState(!1),[b,C]=h.useState(null),[M,T]=h.useState(null),{data:k}=Xt(["menu_tree"],{queryFn:async()=>(await oe.get(`${e}menu_portal`)).data});h.useEffect(()=>{n&&(n.length?i(n[0]):i(null))},[n]),h.useEffect(()=>{if(k){let S=[],P=0;for(let F of k.filter(j=>!j.parent_id))P++,S.push({...F,children:k.filter(j=>j.parent_id===F.id)});u(S),d(P)}},[k]),h.useEffect(()=>{if(a)if(a.parent_id){const S=c.find(F=>F.id===a.parent_id),P=S.children.findIndex(F=>F.id===a.id);x(P===0),E(P===S.total_children-1)}else{const S=c.findIndex(P=>P.id===a.id);x(S===0),E(S===p-1),x(S===0)}},[a,c,p]);const _={remove:Ne(()=>oe.delete(`${e}menu_portal/${a.id}`),{onSuccess:()=>r.invalidateQueries("menu_tree")}),move:Ne(S=>oe.put(`${e}menu_portal/${a.id}/${S}`),{onSuccess:()=>r.invalidateQueries("menu_tree")}),moveOut:Ne(S=>oe.put(`${e}menu_portal/${a.id}/out`,{order:S}),{onSuccess:()=>r.invalidateQueries("menu_tree")})},z=(S,P)=>{const F=k.find(j=>String(j.id)===P);g(F)},N=S=>()=>{S==="sibling"?(C(a.parent_id),T(a.order+1)):(C(a.id),T(a.total_children)),t({params:["novo"]})},B=()=>{v(a.id)},K=async S=>{if(S==="confirm")try{const P=o("Removendo...",{persist:!0,anchorOrigin:{vertical:"top",horizontal:"right"}});await _.remove.mutateAsync(),l(P)}catch(P){console.error(P)}v(null)},Q=S=>async()=>{await _.move.mutateAsync(S)},Re=async()=>{await _.moveOut.mutateAsync(p)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"page tbox-fixed",children:[f.jsx("div",{className:"page-header",children:f.jsx(pr,{title:"Gestão de Menu"})}),f.jsxs("div",{className:"page-content",children:[f.jsx("div",{className:"page-sidebar",children:f.jsx("div",{className:"sidebar-body",children:f.jsx(fr,{submenu:!0,children:f.jsx(mr,{})})})}),f.jsxs("div",{className:"page-body",children:[f.jsxs("div",{className:ns.controls,children:[f.jsx(Y,{title:"Criar item irmão",children:f.jsx("div",{children:f.jsx(Z,{onClick:N("sibling"),disabled:!a,children:f.jsx(wt,{})})})}),f.jsx(Y,{title:"Criar filho",children:f.jsx("div",{children:f.jsxs(Z,{onClick:N("child"),disabled:!a||!!(a!=null&&a.parent_id),children:[f.jsx(wt,{}),f.jsx(Sr,{})]})})}),"  ",f.jsx(Y,{title:"Editar",children:f.jsx("div",{children:f.jsx(Z,{onClick:()=>t({params:[a.id]}),disabled:!a,children:f.jsx(hr,{})})})}),f.jsx(Y,{title:"Remover",children:f.jsx("div",{children:f.jsx(Z,{onClick:B,disabled:!a||(a==null?void 0:a.total_children)!==0,children:f.jsx(gr,{})})})})," ",f.jsx(Y,{title:"Para cima",children:f.jsx("div",{children:f.jsx(Z,{onClick:Q("up"),disabled:!a||m,children:f.jsx(Tr,{})})})})," ",f.jsx(Y,{title:"Para baixo",children:f.jsx("div",{children:f.jsx(Z,{onClick:Q("down"),disabled:!a||w,children:f.jsx(br,{})})})})," ",f.jsx(Y,{title:"Para raiz",children:f.jsx("div",{children:f.jsx(Z,{onClick:Re,disabled:!(a!=null&&a.parent_id),children:f.jsx(Rr,{})})})})," "]}),f.jsx("hr",{}),c&&f.jsx(wr,{sx:{minHeight:180,flexGrow:1,maxWidth:300},children:f.jsx(fo,{"aria-label":"file system navigator",defaultCollapseIcon:f.jsx(Dr,{}),defaultExpandIcon:f.jsx(Or,{}),selected:(a==null?void 0:a.id)||"",onNodeSelect:z,children:c.map(S=>f.jsx(bt,{nodeId:String(S.id),label:S.title,children:!!S.children.length&&S.children.map(P=>f.jsx(bt,{nodeId:String(P.id),label:P.title},P.id))},S.id))})})]})]}),f.jsx(vr,{open:!!y,content:"Confirma a remoção desta item?",confirmButtonText:"Remover",onClose:K})]}),f.jsx(es,{open:!!s,id:s,onClose:()=>t({params:[]}),onSave:()=>t({params:[]}),newParentId:b,newOrder:M})]})}export{hs as default};
